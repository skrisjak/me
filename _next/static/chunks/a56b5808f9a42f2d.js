(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,710,(e,t,n)=>{"use strict";let r="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",a="http://www.w3.org/2001/XMLSchema#string",i="NamedNode",o="BlankNode",l="Literal",s="DefaultGraph",d={};(()=>{let e="(?:<([^:]+:[^>]*)>)",t="A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_",n=t+"0-9-·̀-ͯ‿-⁀",r="(_:(?:["+t+"0-9])(?:(?:["+n+".])*(?:["+n+"]))?)",a="[ \\t]+",i="[ \\t]*",o="(?:"+e+"|"+r+"|"+('(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^'+e)+")|(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*)))?))"+i,l="(?:\\.|(?:(?:"+e+"|"+r+")"+i+"\\.))";d.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,d.empty=RegExp("^"+i+"$"),d.quad=RegExp("^"+i+("(?:"+e+"|"+r)+")"+a+(e+a)+o+l+i+"$")})(),t.exports=class e{static parse(e){let t=[],n={},c=e.split(d.eoln),p=0;for(let e of c){if(p++,d.empty.test(e))continue;let c=e.match(d.quad);if(null===c)throw Error("N-Quads parse error on line "+p+".");let g={subject:null,predicate:null,object:null,graph:null};if(void 0!==c[1]?g.subject={termType:i,value:c[1]}:g.subject={termType:o,value:c[2]},g.predicate={termType:i,value:c[3]},void 0!==c[4]?g.object={termType:i,value:c[4]}:void 0!==c[5]?g.object={termType:o,value:c[5]}:(g.object={termType:l,value:void 0,datatype:{termType:i}},void 0!==c[7]?g.object.datatype.value=c[7]:void 0!==c[8]?(g.object.datatype.value=r,g.object.language=c[8]):g.object.datatype.value=a,g.object.value=c[6].replace(u,function(e,t,n,r){if(t)switch(t){case"t":return"	";case"b":return"\b";case"n":return"\n";case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(n)return String.fromCharCode(parseInt(n,16));if(r)throw Error("Unsupported U escape")})),void 0!==c[9]?g.graph={termType:i,value:c[9]}:void 0!==c[10]?g.graph={termType:o,value:c[10]}:g.graph={termType:s,value:""},g.graph.value in n){let e=!0,r=n[g.graph.value];for(let t of r){var h,f;if(h=t,f=g,h.subject.termType===f.subject.termType&&h.object.termType===f.object.termType&&h.subject.value===f.subject.value&&h.predicate.value===f.predicate.value&&h.object.value===f.object.value&&(h.object.termType!==l||h.object.datatype.termType===f.object.datatype.termType&&h.object.language===f.object.language&&h.object.datatype.value===f.object.datatype.value)){e=!1;break}}e&&(r.push(g),t.push(g))}else n[g.graph.value]=[g],t.push(g)}return t}static serialize(t){Array.isArray(t)||(t=e.legacyDatasetToQuads(t));let n=[];for(let r of t)n.push(e.serializeQuad(r));return n.sort().join("")}static serializeQuadComponents(e,t,n,l){let s="";return e.termType===i?s+="<".concat(e.value,">"):s+="".concat(e.value),s+=" <".concat(t.value,"> "),n.termType===i?s+="<".concat(n.value,">"):n.termType===o?s+=n.value:(s+='"'.concat(n.value.replace(c,function(e){switch(e){case'"':return'\\"';case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r"}}),'"'),n.datatype.value===r?n.language&&(s+="@".concat(n.language)):n.datatype.value!==a&&(s+="^^<".concat(n.datatype.value,">"))),l.termType===i?s+=" <".concat(l.value,">"):l.termType===o&&(s+=" ".concat(l.value)),s+=" .\n"}static serializeQuad(t){return e.serializeQuadComponents(t.subject,t.predicate,t.object,t.graph)}static legacyDatasetToQuads(e){let t=[],n={"blank node":o,IRI:i,literal:l};for(let d in e)e[d].forEach(e=>{let c={};for(let t in e){let o=e[t],s={termType:n[o.type],value:o.value};s.termType===l&&(s.datatype={termType:i},"datatype"in o&&(s.datatype.value=o.datatype),"language"in o?("datatype"in o||(s.datatype.value=r),s.language=o.language):"datatype"in o||(s.datatype.value=a)),c[t]=s}"@default"===d?c.graph={termType:s,value:""}:c.graph={termType:d.startsWith("_:")?o:i,value:d},t.push(c)});return t}};let c=/["\\\n\r]/g,u=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g},6336,(e,t,n)=>{"use strict";t.exports=class e{clone(){let{prefix:t,_existing:n,counter:r}=this;return new e(t,new Map(n),r)}getId(e){let t=e&&this._existing.get(e);if(t)return t;let n=this.prefix+this.counter;return this.counter++,e&&this._existing.set(e,n),n}hasId(e){return this._existing.has(e)}getOldIds(){return[...this._existing.keys()]}constructor(e,t=new Map,n=0){this.prefix=e,this._existing=t,this.counter=n}}},7985,(e,t,n)=>{var r=e.i(461);"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab="/ROOT/node_modules/next/dist/compiled/setimmediate/"),({189:function(){!function(e,t){"use strict";if(!e.setImmediate){var n,a,i,o,l,s=1,d={},c=!1,u=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"===({}).toString.call(e.process)?l=function(e){r.default.nextTick(function(){f(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(n="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(n)&&f(+t.data.slice(n.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),l=function(t){e.postMessage(n+t,"*")}):e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){f(e.data)},l=function(e){i.port2.postMessage(e)}):u&&"onreadystatechange"in u.createElement("script")?(o=u.documentElement,l=function(e){var t=u.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):l=function(e){setTimeout(f,0,e)},p.setImmediate=function(e){"function"!=typeof e&&(e=Function(""+e));for(var t=Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return d[s]=r,l(s),s++},p.clearImmediate=h}function h(e){delete d[e]}function f(e){if(c)setTimeout(f,0,e);else{var n=d[e];if(n){c=!0;try{var r=n.callback,a=n.args;switch(a.length){case 0:r();break;case 1:r(a[0]);break;case 2:r(a[0],a[1]);break;case 3:r(a[0],a[1],a[2]);break;default:r.apply(t,a)}}finally{h(e),c=!1}}}}}("undefined"==typeof self?e.g:self)}})[189](),t.exports={}},4213,(e,t,n)=>{"use strict";e.r(7985);let r=self.crypto||self.msCrypto;t.exports=class{update(e){this._content+=e}async digest(){let e=new TextEncoder().encode(this._content),t=new Uint8Array(await r.subtle.digest(this.algorithm,e)),n="";for(let e=0;e<t.length;++e)n+=t[e].toString(16).padStart(2,"0");return n}constructor(e){if(!(r&&r.subtle))throw Error("crypto.subtle not found.");if("sha256"===e)this.algorithm={name:"SHA-256"};else if("sha1"===e)this.algorithm={name:"SHA-1"};else throw Error('Unsupported algorithm "'.concat(e,'".'));this._content=""}}},7329,(e,t,n)=>{"use strict";t.exports=class{hasNext(){return!this.done}next(){let{current:e,dir:t}=this,n=e.slice(),r=null,a=0,i=e.length;for(let n=0;n<i;++n){let o=e[n],l=t.get(o);(null===r||o>r)&&(l&&n>0&&o>e[n-1]||!l&&n<i-1&&o>e[n+1])&&(r=o,a=n)}if(null===r)this.done=!0;else{let n=t.get(r)?a-1:a+1;for(let i of(e[a]=e[n],e[n]=r,e))i>r&&t.set(i,!t.get(i))}return n}constructor(e){this.current=e.sort(),this.done=!1,this.dir=new Map;for(let t=0;t<e.length;++t)this.dir.set(e[t],!0)}}},4504,(e,t,n)=>{"use strict";let r=e.r(6336),a=e.r(4213),i=e.r(7329),o=e.r(710);function l(e,t){return e.hash<t.hash?-1:+(e.hash>t.hash)}t.exports=class{async main(e){for(let t of(this.deepIterations=new Map,this.quads=e,e))this._addBlankNodeQuadInfo({quad:t,component:t.subject}),this._addBlankNodeQuadInfo({quad:t,component:t.object}),this._addBlankNodeQuadInfo({quad:t,component:t.graph});let t=new Map,n=[...this.blankNodeInfo.keys()],a=0;for(let e of n)++a%100==0&&await this._yield(),await this._hashAndTrackBlankNode({id:e,hashToBlankNodes:t});let i=[...t.keys()].sort(),s=[];for(let e of i){let n=t.get(e);if(n.length>1){s.push(n);continue}let r=n[0];this.canonicalIssuer.getId(r)}for(let e of s){let t=[];for(let n of e){if(this.canonicalIssuer.hasId(n))continue;let e=new r("_:b");e.getId(n);let a=await this.hashNDegreeQuads(n,e);t.push(a)}for(let e of(t.sort(l),t))for(let t of e.issuer.getOldIds())this.canonicalIssuer.getId(t)}let d=[];for(let e of this.quads){let t=o.serializeQuadComponents(this._componentWithCanonicalId(e.subject),e.predicate,this._componentWithCanonicalId(e.object),this._componentWithCanonicalId(e.graph));d.push(t)}return d.sort(),d.join("")}async hashFirstDegreeQuads(e){let t=[],n=this.blankNodeInfo.get(e);for(let r of n.quads){let n={subject:null,predicate:r.predicate,object:null,graph:null};n.subject=this.modifyFirstDegreeComponent(e,r.subject,"subject"),n.object=this.modifyFirstDegreeComponent(e,r.object,"object"),n.graph=this.modifyFirstDegreeComponent(e,r.graph,"graph"),t.push(o.serializeQuad(n))}t.sort();let r=this.createMessageDigest();for(let e of t)r.update(e);return n.hash=await r.digest(),n.hash}async hashRelatedBlankNode(e,t,n,r){let a;a=this.canonicalIssuer.hasId(e)?this.canonicalIssuer.getId(e):n.hasId(e)?n.getId(e):this.blankNodeInfo.get(e).hash;let i=this.createMessageDigest();return i.update(r),"g"!==r&&i.update(this.getRelatedPredicate(t)),i.update(a),i.digest()}async hashNDegreeQuads(e,t){let n=this.deepIterations.get(e)||0;if(n>this.maxDeepIterations)throw Error("Maximum deep iterations (".concat(this.maxDeepIterations,") exceeded."));this.deepIterations.set(e,n+1);let r=this.createMessageDigest(),a=await this.createHashToRelated(e,t);for(let e of[...a.keys()].sort()){let n;r.update(e);let o="",l=new i(a.get(e)),s=0;for(;l.hasNext();){let e=l.next();++s%3==0&&await this._yield();let r=t.clone(),a="",i=[],d=!1;for(let t of e)if(this.canonicalIssuer.hasId(t)?a+=this.canonicalIssuer.getId(t):(r.hasId(t)||i.push(t),a+=r.getId(t)),0!==o.length&&a>o){d=!0;break}if(!d){for(let e of i){let t=await this.hashNDegreeQuads(e,r);if(a+=r.getId(e),a+="<".concat(t.hash,">"),r=t.issuer,0!==o.length&&a>o){d=!0;break}}!d&&(0===o.length||a<o)&&(o=a,n=r)}}r.update(o),t=n}return{hash:await r.digest(),issuer:t}}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType?t:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return"<".concat(e.predicate.value,">")}async createHashToRelated(e,t){let n=new Map,r=this.blankNodeInfo.get(e).quads,a=0;for(let i of r)++a%100==0&&await this._yield(),await Promise.all([this._addRelatedBlankNodeHash({quad:i,component:i.subject,position:"s",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:i,component:i.object,position:"o",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:i,component:i.graph,position:"g",id:e,issuer:t,hashToRelated:n})]);return n}async _hashAndTrackBlankNode(e){let{id:t,hashToBlankNodes:n}=e,r=await this.hashFirstDegreeQuads(t),a=n.get(r);a?a.push(t):n.set(r,[t])}_addBlankNodeQuadInfo(e){let{quad:t,component:n}=e;if("BlankNode"!==n.termType)return;let r=n.value,a=this.blankNodeInfo.get(r);a?a.quads.add(t):this.blankNodeInfo.set(r,{quads:new Set([t]),hash:null})}async _addRelatedBlankNodeHash(e){let{quad:t,component:n,position:r,id:a,issuer:i,hashToRelated:o}=e;if("BlankNode"!==n.termType||n.value===a)return;let l=n.value,s=await this.hashRelatedBlankNode(l,t,i,r),d=o.get(s);d?d.push(l):o.set(s,[l])}_componentWithCanonicalId(e){return"BlankNode"!==e.termType||e.value.startsWith(this.canonicalIssuer.prefix)?e:{termType:"BlankNode",value:this.canonicalIssuer.getId(e.value)}}async _yield(){return new Promise(e=>setImmediate(e))}constructor({createMessageDigest:e=()=>new a("sha256"),canonicalIdMap:t=new Map,maxDeepIterations:n=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new r("_:c14n",t),this.createMessageDigest=e,this.maxDeepIterations=n,this.quads=null,this.deepIterations=null}}},1590,(e,t,n)=>{"use strict";let r=e.r(4213),a=e.r(4504);t.exports=class extends a{modifyFirstDegreeComponent(e,t,n){return"BlankNode"!==t.termType?t:"graph"===n?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return e.predicate.value}async createHashToRelated(e,t){let n=new Map,r=this.blankNodeInfo.get(e).quads,a=0;for(let i of r){let r,o;if("BlankNode"===i.subject.termType&&i.subject.value!==e)o=i.subject.value,r="p";else{if("BlankNode"!==i.object.termType||i.object.value===e)continue;o=i.object.value,r="r"}++a%100==0&&await this._yield();let l=await this.hashRelatedBlankNode(o,i,t,r),s=n.get(l);s?s.push(o):n.set(l,[o])}return n}constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new r("sha1")}}},3109,(e,t,n)=>{"use strict";let r=e.r(6336),a=e.r(4213),i=e.r(7329),o=e.r(710);function l(e,t){return e.hash<t.hash?-1:+(e.hash>t.hash)}t.exports=class{main(e){for(let t of(this.deepIterations=new Map,this.quads=e,e))this._addBlankNodeQuadInfo({quad:t,component:t.subject}),this._addBlankNodeQuadInfo({quad:t,component:t.object}),this._addBlankNodeQuadInfo({quad:t,component:t.graph});let t=new Map;for(let e of[...this.blankNodeInfo.keys()])this._hashAndTrackBlankNode({id:e,hashToBlankNodes:t});let n=[...t.keys()].sort(),a=[];for(let e of n){let n=t.get(e);if(n.length>1){a.push(n);continue}let r=n[0];this.canonicalIssuer.getId(r)}for(let e of a){let t=[];for(let n of e){if(this.canonicalIssuer.hasId(n))continue;let e=new r("_:b");e.getId(n);let a=this.hashNDegreeQuads(n,e);t.push(a)}for(let e of(t.sort(l),t))for(let t of e.issuer.getOldIds())this.canonicalIssuer.getId(t)}let i=[];for(let e of this.quads){let t=o.serializeQuadComponents(this._componentWithCanonicalId({component:e.subject}),e.predicate,this._componentWithCanonicalId({component:e.object}),this._componentWithCanonicalId({component:e.graph}));i.push(t)}return i.sort(),i.join("")}hashFirstDegreeQuads(e){let t=[],n=this.blankNodeInfo.get(e);for(let r of n.quads){let n={subject:null,predicate:r.predicate,object:null,graph:null};n.subject=this.modifyFirstDegreeComponent(e,r.subject,"subject"),n.object=this.modifyFirstDegreeComponent(e,r.object,"object"),n.graph=this.modifyFirstDegreeComponent(e,r.graph,"graph"),t.push(o.serializeQuad(n))}t.sort();let r=this.createMessageDigest();for(let e of t)r.update(e);return n.hash=r.digest(),n.hash}hashRelatedBlankNode(e,t,n,r){let a;a=this.canonicalIssuer.hasId(e)?this.canonicalIssuer.getId(e):n.hasId(e)?n.getId(e):this.blankNodeInfo.get(e).hash;let i=this.createMessageDigest();return i.update(r),"g"!==r&&i.update(this.getRelatedPredicate(t)),i.update(a),i.digest()}hashNDegreeQuads(e,t){let n=this.deepIterations.get(e)||0;if(n>this.maxDeepIterations)throw Error("Maximum deep iterations (".concat(this.maxDeepIterations,") exceeded."));this.deepIterations.set(e,n+1);let r=this.createMessageDigest(),a=this.createHashToRelated(e,t);for(let e of[...a.keys()].sort()){let n;r.update(e);let o="",l=new i(a.get(e));for(;l.hasNext();){let e=l.next(),r=t.clone(),a="",i=[],s=!1;for(let t of e)if(this.canonicalIssuer.hasId(t)?a+=this.canonicalIssuer.getId(t):(r.hasId(t)||i.push(t),a+=r.getId(t)),0!==o.length&&a>o){s=!0;break}if(!s){for(let e of i){let t=this.hashNDegreeQuads(e,r);if(a+=r.getId(e),a+="<".concat(t.hash,">"),r=t.issuer,0!==o.length&&a>o){s=!0;break}}!s&&(0===o.length||a<o)&&(o=a,n=r)}}r.update(o),t=n}return{hash:r.digest(),issuer:t}}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType?t:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return"<".concat(e.predicate.value,">")}createHashToRelated(e,t){let n=new Map;for(let r of this.blankNodeInfo.get(e).quads)this._addRelatedBlankNodeHash({quad:r,component:r.subject,position:"s",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:r,component:r.object,position:"o",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:r,component:r.graph,position:"g",id:e,issuer:t,hashToRelated:n});return n}_hashAndTrackBlankNode(e){let{id:t,hashToBlankNodes:n}=e,r=this.hashFirstDegreeQuads(t),a=n.get(r);a?a.push(t):n.set(r,[t])}_addBlankNodeQuadInfo(e){let{quad:t,component:n}=e;if("BlankNode"!==n.termType)return;let r=n.value,a=this.blankNodeInfo.get(r);a?a.quads.add(t):this.blankNodeInfo.set(r,{quads:new Set([t]),hash:null})}_addRelatedBlankNodeHash(e){let{quad:t,component:n,position:r,id:a,issuer:i,hashToRelated:o}=e;if("BlankNode"!==n.termType||n.value===a)return;let l=n.value,s=this.hashRelatedBlankNode(l,t,i,r),d=o.get(s);d?d.push(l):o.set(s,[l])}_componentWithCanonicalId(e){let{component:t}=e;return"BlankNode"!==t.termType||t.value.startsWith(this.canonicalIssuer.prefix)?t:{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}}constructor({createMessageDigest:e=()=>new a("sha256"),canonicalIdMap:t=new Map,maxDeepIterations:n=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new r("_:c14n",t),this.createMessageDigest=e,this.maxDeepIterations=n,this.quads=null,this.deepIterations=null}}},5956,(e,t,n)=>{"use strict";let r=e.r(4213),a=e.r(3109);t.exports=class extends a{modifyFirstDegreeComponent(e,t,n){return"BlankNode"!==t.termType?t:"graph"===n?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return e.predicate.value}createHashToRelated(e,t){let n=new Map;for(let r of this.blankNodeInfo.get(e).quads){let a,i;if("BlankNode"===r.subject.termType&&r.subject.value!==e)i=r.subject.value,a="p";else{if("BlankNode"!==r.object.termType||r.object.value===e)continue;i=r.object.value,a="r"}let o=this.hashRelatedBlankNode(i,r,t,a),l=n.get(o);l?l.push(i):n.set(o,[i])}return n}constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new r("sha1")}}},7429,(e,t,n)=>{"use strict";let r,a=e.r(4504),i=e.r(1590),o=e.r(3109),l=e.r(5956);try{r={}}catch(e){}function s(e){return Array.isArray(e)?e:n.NQuads.legacyDatasetToQuads(e)}n.NQuads=e.r(710),n.IdentifierIssuer=e.r(6336),n._rdfCanonizeNative=function(e){return e&&(r=e),r},n.canonize=async function(e,t){let n=s(e,t);if(t.useNative){if(!r)throw Error("rdf-canonize-native not available");if(t.createMessageDigest)throw Error('"createMessageDigest" cannot be used with "useNative".');return new Promise((e,a)=>r.canonize(n,t,(t,n)=>t?a(t):e(n)))}if("URDNA2015"===t.algorithm)return new a(t).main(n);if("URGNA2012"===t.algorithm){if(t.createMessageDigest)throw Error('"createMessageDigest" cannot be used with "URGNA2012".');return new i(t).main(n)}if(!("algorithm"in t))throw Error("No RDF Dataset Canonicalization algorithm specified.");throw Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)},n._canonizeSync=function(e,t){let n=s(e,t);if(t.useNative){if(!r)throw Error("rdf-canonize-native not available");if(t.createMessageDigest)throw Error('"createMessageDigest" cannot be used with "useNative".');return r.canonizeSync(n,t)}if("URDNA2015"===t.algorithm)return new o(t).main(n);if("URGNA2012"===t.algorithm){if(t.createMessageDigest)throw Error('"createMessageDigest" cannot be used with "URGNA2012".');return new l(t).main(n)}if(!("algorithm"in t))throw Error("No RDF Dataset Canonicalization algorithm specified.");throw Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)}},9641,(e,t,n)=>{t.exports=e.r(7429)},8119,(e,t,n)=>{"use strict";let r={};t.exports=r,r.isArray=Array.isArray,r.isBoolean=e=>"boolean"==typeof e||"[object Boolean]"===Object.prototype.toString.call(e),r.isDouble=e=>r.isNumber(e)&&(-1!==String(e).indexOf(".")||Math.abs(e)>=1e21),r.isEmptyObject=e=>r.isObject(e)&&0===Object.keys(e).length,r.isNumber=e=>"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e),r.isNumeric=e=>!isNaN(parseFloat(e))&&isFinite(e),r.isObject=e=>"[object Object]"===Object.prototype.toString.call(e),r.isString=e=>"string"==typeof e||"[object String]"===Object.prototype.toString.call(e),r.isUndefined=e=>void 0===e},2285,(e,t,n)=>{"use strict";let r=e.r(8119),a={};t.exports=a,a.isSubject=e=>!!r.isObject(e)&&!("@value"in e)&&!("@set"in e)&&!("@list"in e)&&(Object.keys(e).length>1||!("@id"in e)),a.isSubjectReference=e=>r.isObject(e)&&1===Object.keys(e).length&&"@id"in e,a.isValue=e=>r.isObject(e)&&"@value"in e,a.isList=e=>r.isObject(e)&&"@list"in e,a.isGraph=e=>r.isObject(e)&&"@graph"in e&&1===Object.keys(e).filter(e=>"@id"!==e&&"@index"!==e).length,a.isSimpleGraph=e=>a.isGraph(e)&&!("@id"in e),a.isBlankNode=e=>{if(r.isObject(e)){if("@id"in e){let t=e["@id"];return!r.isString(t)||0===t.indexOf("_:")}return 0===Object.keys(e).length||!("@value"in e||"@set"in e||"@list"in e)}return!1}},2534,(e,t,n)=>{"use strict";t.exports=class extends Error{constructor(e="An unspecified JSON-LD error occurred.",t="jsonld.Error",n={}){super(e),this.name=t,this.message=e,this.details=n}}},2925,(e,t,n)=>{"use strict";let r=e.r(2285),a=e.r(8119),i=e.r(9641).IdentifierIssuer,o=e.r(2534),l=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,s=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,d=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,c={headers:{accept:"application/ld+json, application/json"}},u={};t.exports=u,u.IdentifierIssuer=i,u.REGEX_BCP47=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,u.REGEX_KEYWORD=/^@[a-zA-Z]+$/,u.clone=function(e){if(e&&"object"==typeof e){let t;if(a.isArray(e)){t=[];for(let n=0;n<e.length;++n)t[n]=u.clone(e[n])}else if(e instanceof Map)for(let[n,r]of(t=new Map,e))t.set(n,u.clone(r));else if(e instanceof Set)for(let n of(t=new Set,e))t.add(u.clone(n));else if(a.isObject(e))for(let n in t={},e)t[n]=u.clone(e[n]);else t=e.toString();return t}return e},u.asArray=function(e){return Array.isArray(e)?e:[e]},u.buildHeaders=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object.keys(e).some(e=>"accept"===e.toLowerCase()))throw RangeError('Accept header may not be specified; only "'+c.headers.accept+'" is supported.');return Object.assign({Accept:c.headers.accept},e)},u.parseLinkHeader=e=>{let t={},n=e.match(l);for(let e=0;e<n.length;++e){let r=n[e].match(s);if(!r)continue;let a={target:r[1]},i=r[2];for(;r=d.exec(i);)a[r[1]]=void 0===r[2]?r[3]:r[2];let o=a.rel||"";Array.isArray(t[o])?t[o].push(a):t.hasOwnProperty(o)?t[o]=[t[o],a]:t[o]=a}return t},u.validateTypeValue=(e,t)=>{if(!a.isString(e)&&!(a.isArray(e)&&e.every(e=>a.isString(e)))){if(t&&a.isObject(e))switch(Object.keys(e).length){case 0:return;case 1:if("@default"in e&&u.asArray(e["@default"]).every(e=>a.isString(e)))return}throw new o('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}},u.hasProperty=(e,t)=>{if(e.hasOwnProperty(t)){let n=e[t];return!a.isArray(n)||n.length>0}return!1},u.hasValue=(e,t,n)=>{if(u.hasProperty(e,t)){let i=e[t],o=r.isList(i);if(a.isArray(i)||o){o&&(i=i["@list"]);for(let e=0;e<i.length;++e)if(u.compareValues(n,i[e]))return!0}else if(!a.isArray(n))return u.compareValues(n,i)}return!1},u.addValue=(e,t,n,r)=>{if("propertyIsArray"in(r=r||{})||(r.propertyIsArray=!1),"valueIsArray"in r||(r.valueIsArray=!1),"allowDuplicate"in r||(r.allowDuplicate=!0),"prependValue"in r||(r.prependValue=!1),r.valueIsArray)e[t]=n;else if(a.isArray(n)){0===n.length&&r.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]),r.prependValue&&(n=n.concat(e[t]),e[t]=[]);for(let a=0;a<n.length;++a)u.addValue(e,t,n[a],r)}else if(e.hasOwnProperty(t)){let i=!r.allowDuplicate&&u.hasValue(e,t,n);a.isArray(e[t])||i&&!r.propertyIsArray||(e[t]=[e[t]]),i||(r.prependValue?e[t].unshift(n):e[t].push(n))}else e[t]=r.propertyIsArray?[n]:n},u.getValues=(e,t)=>[].concat(e[t]||[]),u.removeProperty=(e,t)=>{delete e[t]},u.removeValue=(e,t,n,r)=>{"propertyIsArray"in(r=r||{})||(r.propertyIsArray=!1);let a=u.getValues(e,t).filter(e=>!u.compareValues(e,n));0===a.length?u.removeProperty(e,t):1!==a.length||r.propertyIsArray?e[t]=a:e[t]=a[0]},u.relabelBlankNodes=(e,t)=>(function e(t,n){if(a.isArray(n))for(let r=0;r<n.length;++r)n[r]=e(t,n[r]);else if(r.isList(n))n["@list"]=e(t,n["@list"]);else if(a.isObject(n)){r.isBlankNode(n)&&(n["@id"]=t.getId(n["@id"]));let a=Object.keys(n).sort();for(let r=0;r<a.length;++r){let i=a[r];"@id"!==i&&(n[i]=e(t,n[i]))}}return n})((t=t||{}).issuer||new i("_:b"),e),u.compareValues=(e,t)=>!!(e===t||r.isValue(e)&&r.isValue(t)&&e["@value"]===t["@value"]&&e["@type"]===t["@type"]&&e["@language"]===t["@language"]&&e["@index"]===t["@index"])||!!(a.isObject(e)&&"@id"in e&&a.isObject(t))&&"@id"in t&&e["@id"]===t["@id"],u.compareShortestLeast=(e,t)=>e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1},4487,(e,t,n)=>{"use strict";let r="http://www.w3.org/1999/02/22-rdf-syntax-ns#",a="http://www.w3.org/2001/XMLSchema#";t.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:r,RDF_LIST:r+"List",RDF_FIRST:r+"first",RDF_REST:r+"rest",RDF_NIL:r+"nil",RDF_TYPE:r+"type",RDF_PLAIN_LITERAL:r+"PlainLiteral",RDF_XML_LITERAL:r+"XMLLiteral",RDF_JSON_LITERAL:r+"JSON",RDF_OBJECT:r+"object",RDF_LANGSTRING:r+"langString",XSD:a,XSD_BOOLEAN:a+"boolean",XSD_DOUBLE:a+"double",XSD_INTEGER:a+"integer",XSD_STRING:a+"string"}},8720,(e,t,n)=>{"use strict";t.exports=class{wrapLoader(e){let t=this;return t._loader=e,function(){return t.add.apply(t,arguments)}}async add(e){let t=this._requests[e];if(t)return Promise.resolve(t);t=this._requests[e]=this._loader(e);try{return await t}finally{delete this._requests[e]}}constructor(){this._requests={}}}},1854,(e,t,n)=>{"use strict";let r=e.r(8119),a={};t.exports=a,a.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([a-zA-Z][a-zA-Z0-9+-.]*):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},a.parse=(e,t)=>{let n={},r=a.parsers[t||"full"],i=r.regex.exec(e),o=r.keys.length;for(;o--;)n[r.keys[o]]=void 0===i[o]?null:i[o];return("https"===n.scheme&&"443"===n.port||"http"===n.scheme&&"80"===n.port)&&(n.href=n.href.replace(":"+n.port,""),n.authority=n.authority.replace(":"+n.port,""),n.port=null),n.normalizedPath=a.removeDotSegments(n.path),n},a.prependBase=(e,t)=>{if(null===e||a.isAbsolute(t))return t;(!e||r.isString(e))&&(e=a.parse(e||""));let n=a.parse(t),i={protocol:e.protocol||""};if(null!==n.authority)i.authority=n.authority,i.path=n.path,i.query=n.query;else if(i.authority=e.authority,""===n.path)i.path=e.path,null!==n.query?i.query=n.query:i.query=e.query;else{if(0===n.path.indexOf("/"))i.path=n.path;else{let t=e.path;((t=t.substr(0,t.lastIndexOf("/")+1)).length>0||e.authority)&&"/"!==t.substr(-1)&&(t+="/"),i.path=t+=n.path}i.query=n.query}""!==n.path&&(i.path=a.removeDotSegments(i.path));let o=i.protocol;return null!==i.authority&&(o+="//"+i.authority),o+=i.path,null!==i.query&&(o+="?"+i.query),null!==n.fragment&&(o+="#"+n.fragment),""===o&&(o="./"),o},a.removeBase=(e,t)=>{if(null===e)return t;(!e||r.isString(e))&&(e=a.parse(e||""));let n="";if(""!==e.href?n+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(n+="//"),0!==t.indexOf(n))return t;let i=a.parse(t.substr(n.length)),o=e.normalizedPath.split("/"),l=i.normalizedPath.split("/"),s=i.fragment||i.query?0:1;for(;o.length>0&&l.length>s&&o[0]===l[0];)o.shift(),l.shift();let d="";if(o.length>0){o.pop();for(let e=0;e<o.length;++e)d+="../"}return d+=l.join("/"),null!==i.query&&(d+="?"+i.query),null!==i.fragment&&(d+="#"+i.fragment),""===d&&(d="./"),d},a.removeDotSegments=e=>{if(0===e.length)return"";let t=e.split("/"),n=[];for(;t.length>0;){let e=t.shift(),r=0===t.length;if("."===e){r&&n.push("");continue}if(".."===e){n.pop(),r&&n.push("");continue}n.push(e)}return("/"===e[0]&&n.length>0&&""!==n[0]&&n.unshift(""),1===n.length&&""===n[0])?"/":n.join("/")};let i=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;a.isAbsolute=e=>r.isString(e)&&i.test(e),a.isRelative=e=>r.isString(e)},9918,(e,t,n)=>{"use strict";let{parseLinkHeader:r,buildHeaders:a}=e.r(2925),{LINK_HEADER_CONTEXT:i}=e.r(4487),o=e.r(2534),l=e.r(8720),{prependBase:s}=e.r(1854),d=/(^|(\r\n))link:/i;t.exports=function(){let{secure:e,headers:t={},xhr:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{headers:{}};return t=a(t),new l().wrapLoader(c);async function c(a){let l,u;if(0!==a.indexOf("http:")&&0!==a.indexOf("https:"))throw new o('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:a});if(e&&0!==a.indexOf("https"))throw new o('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:a});try{l=await function(e,t,n){let r=new(e=e||XMLHttpRequest);return new Promise((e,a)=>{for(let i in r.onload=()=>e(r),r.onerror=e=>a(e),r.open("GET",t,!0),n)r.setRequestHeader(i,n[i]);r.send()})}(n,a,t)}catch(e){throw new o("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:a,cause:e})}if(l.status>=400)throw new o("URL could not be dereferenced: "+l.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:a,httpStatusCode:l.status});let p={contextUrl:null,documentUrl:a,document:l.response},h=null,f=l.getResponseHeader("Content-Type");if(d.test(l.getAllResponseHeaders())&&(u=l.getResponseHeader("Link")),u&&"application/ld+json"!==f){let e=r(u),t=e[i];if(Array.isArray(t))throw new o("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:a});t&&(p.contextUrl=t.target),(h=e.alternate)&&"application/ld+json"==h.type&&!(f||"").match(/^application\/(\w*\+)?json$/)&&(p=await c(s(a,h.target)))}return p}}},5872,(e,t,n)=>{"use strict";let r=e.r(9918),a={};t.exports=a,a.setupDocumentLoaders=function(e){"undefined"!=typeof XMLHttpRequest&&(e.documentLoaders.xhr=r,e.useDocumentLoader("xhr"))},a.setupGlobals=function(e){void 0===globalThis.JsonLdProcessor&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor})}},6162,(e,t,n)=>{"use strict";t.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},2101,(e,t,n)=>{"use strict";function r(e){var t=this;if(t instanceof r||(t=new r),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach(function(e){t.push(e)});else if(arguments.length>0)for(var n=0,a=arguments.length;n<a;n++)t.push(arguments[n]);return t}function a(e,t,n,r){if(!(this instanceof a))return new a(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}t.exports=r,r.Node=a,r.create=r,r.prototype.removeNode=function(e){if(e.list!==this)throw Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},r.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},r.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},r.prototype.push=function(){for(var e,t,n=0,r=arguments.length;n<r;n++){e=this,t=arguments[n],e.tail=new a(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}return this.length},r.prototype.unshift=function(){for(var e,t,n=0,r=arguments.length;n<r;n++){e=this,t=arguments[n],e.head=new a(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}return this.length},r.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},r.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},r.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;null!==n;r++)e.call(t,n.value,r,this),n=n.next},r.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;null!==n;r--)e.call(t,n.value,r,this),n=n.prev},r.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},r.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},r.prototype.map=function(e,t){t=t||this;for(var n=new r,a=this.head;null!==a;)n.push(e.call(t,a.value,this)),a=a.next;return n},r.prototype.mapReverse=function(e,t){t=t||this;for(var n=new r,a=this.tail;null!==a;)n.push(e.call(t,a.value,this)),a=a.prev;return n},r.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else if(this.head)r=this.head.next,n=this.head.value;else throw TypeError("Reduce of empty list with no initial value");for(var a=0;null!==r;a++)n=e(n,r.value,a),r=r.next;return n},r.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else if(this.tail)r=this.tail.prev,n=this.tail.value;else throw TypeError("Reduce of empty list with no initial value");for(var a=this.length-1;null!==r;a--)n=e(n,r.value,a),r=r.prev;return n},r.prototype.toArray=function(){for(var e=Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},r.prototype.toArrayReverse=function(){for(var e=Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},r.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var a=0,i=this.head;null!==i&&a<e;a++)i=i.next;for(;null!==i&&a<t;a++,i=i.next)n.push(i.value);return n},r.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var a=this.length,i=this.tail;null!==i&&a>t;a--)i=i.prev;for(;null!==i&&a>e;a--,i=i.prev)n.push(i.value);return n},r.prototype.splice=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var o=0,l=this.head;null!==l&&o<e;o++)l=l.next;for(var s=[],o=0;l&&o<t;o++)s.push(l.value),l=this.removeNode(l);null===l&&(l=this.tail),l!==this.head&&l!==this.tail&&(l=l.prev);for(var o=0;o<r.length;o++)l=function(e,t,n){var r=t===e.head?new a(n,null,t,e):new a(n,t,t.next,e);return null===r.next&&(e.tail=r),null===r.prev&&(e.head=r),e.length++,r}(this,l,r[o]);return s},r.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};try{e.r(6162)(r)}catch(e){}},2029,(e,t,n)=>{"use strict";let r=e.r(2101),a=Symbol("max"),i=Symbol("length"),o=Symbol("lengthCalculator"),l=Symbol("allowStale"),s=Symbol("maxAge"),d=Symbol("dispose"),c=Symbol("noDisposeOnSet"),u=Symbol("lruList"),p=Symbol("cache"),h=Symbol("updateAgeOnGet"),f=()=>1,g=(e,t,n)=>{let r=e[p].get(t);if(r){let t=r.value;if(v(e,t)){if(m(e,r),!e[l])return}else n&&(e[h]&&(r.value.now=Date.now()),e[u].unshiftNode(r));return t.value}},v=(e,t)=>{if(!t||!t.maxAge&&!e[s])return!1;let n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[s]&&n>e[s]},y=e=>{if(e[i]>e[a])for(let t=e[u].tail;e[i]>e[a]&&null!==t;){let n=t.prev;m(e,t),t=n}},m=(e,t)=>{if(t){let n=t.value;e[d]&&e[d](n.key,n.value),e[i]-=n.length,e[p].delete(n.key),e[u].removeNode(t)}};class x{constructor(e,t,n,r,a){this.key=e,this.value=t,this.length=n,this.now=r,this.maxAge=a||0}}let b=(e,t,n,r)=>{let a=n.value;v(e,a)&&(m(e,n),e[l]||(a=void 0)),a&&t.call(r,a.value,a.key,e)};t.exports=class{set max(e){if("number"!=typeof e||e<0)throw TypeError("max must be a non-negative number");this[a]=e||1/0,y(this)}get max(){return this[a]}set allowStale(e){this[l]=!!e}get allowStale(){return this[l]}set maxAge(e){if("number"!=typeof e)throw TypeError("maxAge must be a non-negative number");this[s]=e,y(this)}get maxAge(){return this[s]}set lengthCalculator(e){"function"!=typeof e&&(e=f),e!==this[o]&&(this[o]=e,this[i]=0,this[u].forEach(e=>{e.length=this[o](e.value,e.key),this[i]+=e.length})),y(this)}get lengthCalculator(){return this[o]}get length(){return this[i]}get itemCount(){return this[u].length}rforEach(e,t){t=t||this;for(let n=this[u].tail;null!==n;){let r=n.prev;b(this,e,n,t),n=r}}forEach(e,t){t=t||this;for(let n=this[u].head;null!==n;){let r=n.next;b(this,e,n,t),n=r}}keys(){return this[u].toArray().map(e=>e.key)}values(){return this[u].toArray().map(e=>e.value)}reset(){this[d]&&this[u]&&this[u].length&&this[u].forEach(e=>this[d](e.key,e.value)),this[p]=new Map,this[u]=new r,this[i]=0}dump(){return this[u].map(e=>!v(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[u]}set(e,t,n){if((n=n||this[s])&&"number"!=typeof n)throw TypeError("maxAge must be a number");let r=n?Date.now():0,l=this[o](t,e);if(this[p].has(e)){if(l>this[a])return m(this,this[p].get(e)),!1;let o=this[p].get(e).value;return this[d]&&!this[c]&&this[d](e,o.value),o.now=r,o.maxAge=n,o.value=t,this[i]+=l-o.length,o.length=l,this.get(e),y(this),!0}let h=new x(e,t,l,r,n);return h.length>this[a]?(this[d]&&this[d](e,t),!1):(this[i]+=h.length,this[u].unshift(h),this[p].set(e,this[u].head),y(this),!0)}has(e){return!!this[p].has(e)&&!v(this,this[p].get(e).value)}get(e){return g(this,e,!0)}peek(e){return g(this,e,!1)}pop(){let e=this[u].tail;return e?(m(this,e),e.value):null}del(e){m(this,this[p].get(e))}load(e){this.reset();let t=Date.now();for(let n=e.length-1;n>=0;n--){let r=e[n],a=r.e||0;if(0===a)this.set(r.k,r.v);else{let e=a-t;e>0&&this.set(r.k,r.v,e)}}}prune(){this[p].forEach((e,t)=>g(this,t,!1))}constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw TypeError("max must be a non-negative number");this[a]=e.max||1/0;let t=e.length||f;if(this[o]="function"!=typeof t?f:t,this[l]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw TypeError("maxAge must be a number");this[s]=e.maxAge||0,this[d]=e.dispose,this[c]=e.noDisposeOnSet||!1,this[h]=e.updateAgeOnGet||!1,this.reset()}}},7075,(e,t,n)=>{"use strict";let r=e.r(2029);t.exports=class{getProcessed(e){return this.cache.get(e)}setProcessed(e,t){this.cache.set(e,t)}constructor({document:e}){this.document=e,this.cache=new r({max:10})}}},671,(e,t,n)=>{"use strict";let{isArray:r,isObject:a,isString:i}=e.r(8119),{asArray:o}=e.r(2925),{prependBase:l}=e.r(1854),s=e.r(2534),d=e.r(7075);t.exports=class{async resolve(e){let{activeCtx:t,context:n,documentLoader:l,base:c,cycles:u=new Set}=e;n&&a(n)&&n["@context"]&&(n=n["@context"]);let p=[];for(let e of n=o(n)){if(i(e)){let n=this._get(e);n||(n=await this._resolveRemoteContext({activeCtx:t,url:e,documentLoader:l,base:c,cycles:u})),r(n)?p.push(...n):p.push(n);continue}if(null===e){p.push(new d({document:null}));continue}a(e)||function(e){throw new s("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:e})}(n);let o=JSON.stringify(e),h=this._get(o);h||(h=new d({document:e}),this._cacheResolvedContext({key:o,resolved:h,tag:"static"})),p.push(h)}return p}_get(e){let t=this.perOpCache.get(e);if(!t){let n=this.sharedCache.get(e);n&&(t=n.get("static"))&&this.perOpCache.set(e,t)}return t}_cacheResolvedContext(e){let{key:t,resolved:n,tag:r}=e;if(this.perOpCache.set(t,n),void 0!==r){let e=this.sharedCache.get(t);e||(e=new Map,this.sharedCache.set(t,e)),e.set(r,n)}return n}async _resolveRemoteContext(e){let{activeCtx:t,url:n,documentLoader:o,base:s,cycles:d}=e;n=l(s,n);let{context:c,remoteDoc:u}=await this._fetchContext({activeCtx:t,url:n,documentLoader:o,cycles:d});!function e(t){let{context:n,base:o}=t;if(!n)return;let s=n["@context"];if(i(s)){n["@context"]=l(o,s);return}if(r(s)){for(let t=0;t<s.length;++t){let n=s[t];if(i(n)){s[t]=l(o,n);continue}a(n)&&e({context:{"@context":n},base:o})}return}if(a(s))for(let t in s)e({context:s[t],base:o})}({context:c,base:s=u.documentUrl||n});let p=await this.resolve({activeCtx:t,context:c,documentLoader:o,base:s,cycles:d});return this._cacheResolvedContext({key:n,resolved:p,tag:u.tag}),p}async _fetchContext(e){let t,n,{activeCtx:o,url:l,documentLoader:d,cycles:c}=e;if(c.size>10)throw new s("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"json-ld-1.0"===o.processingMode?"loading remote context failed":"context overflow",max:10});if(c.has(l))throw new s("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"json-ld-1.0"===o.processingMode?"recursive context inclusion":"context overflow",url:l});c.add(l);try{t=(n=await d(l)).document||null,i(t)&&(t=JSON.parse(t))}catch(e){throw new s("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context. "+'URL: "'.concat(l,'".'),"jsonld.InvalidUrl",{code:"loading remote context failed",url:l,cause:e})}if(!a(t))throw new s("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object. "+'URL: "'.concat(l,'".'),"jsonld.InvalidUrl",{code:"invalid remote context",url:l});return t="@context"in t?{"@context":t["@context"]}:{"@context":{}},n.contextUrl&&(r(t["@context"])||(t["@context"]=[t["@context"]]),t["@context"].push(n.contextUrl)),{context:t,remoteDoc:n}}constructor({sharedCache:e}){this.perOpCache=new Map,this.sharedCache=e}}},6260,(e,t,n)=>{"use strict";t.exports=e.r(9641).NQuads},6877,(e,t,n)=>{"use strict";let r=e.r(2534),{isArray:a}=e.r(8119),{asArray:i}=e.r(2925),o={};t.exports=o,o.defaultEventHandler=null,o.setupEventHandler=e=>{let{options:t={}}=e,n=[].concat(t.safe?o.safeEventHandler:[],t.eventHandler?i(t.eventHandler):[],o.defaultEventHandler?o.defaultEventHandler:[]);return 0===n.length?null:n},o.handleEvent=e=>{let{event:t,options:n}=e;!function e(t){let{event:n,handlers:i}=t,o=!0;for(let t=0;o&&t<i.length;++t){o=!1;let l=i[t];if(a(l))o=e({event:n,handlers:l});else if("function"==typeof l)l({event:n,next:()=>{o=!0}});else if("object"==typeof l)n.code in l?l[n.code]({event:n,next:()=>{o=!0}}):o=!0;else throw new r("Invalid event handler.","jsonld.InvalidEventHandler",{event:n})}return o}({event:t,handlers:n.eventHandler})};let l=new Set(["empty object","free-floating scalar","invalid @language value","invalid property","null @id value","null @value value","object with only @id","object with only @language","object with only @list","object with only @value","relative @id reference","relative @type reference","relative @vocab reference","reserved @id value","reserved @reverse value","reserved term","blank node predicate","relative graph reference","relative object reference","relative predicate reference","relative subject reference","rdfDirection not set"]);o.safeEventHandler=function(e){let{event:t,next:n}=e;if("warning"===t.level&&l.has(t.code))throw new r("Safe mode validation error.","jsonld.ValidationError",{event:t});n()},o.logEventHandler=function(e){let{event:t,next:n}=e;console.log("EVENT: ".concat(t.message),{event:t}),n()},o.logWarningEventHandler=function(e){let{event:t,next:n}=e;"warning"===t.level&&console.warn("WARNING: ".concat(t.message),{event:t}),n()},o.unhandledEventHandler=function(e){let{event:t}=e;throw new r("No handler for event.","jsonld.UnhandledEvent",{event:t})},o.setDefaultEventHandler=function(){let{eventHandler:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o.defaultEventHandler=e?i(e):null}},8445,(e,t,n)=>{"use strict";let r=e.r(2925),a=e.r(2534),{isArray:i,isObject:o,isString:l,isUndefined:s}=e.r(8119),{isAbsolute:d,isRelative:c,prependBase:u}=e.r(1854),{handleEvent:p}=e.r(6877),{REGEX_BCP47:h,REGEX_KEYWORD:f,asArray:g,compareShortestLeast:v}=e.r(2925),y=new Map,m={};function x(e,t,n,r,a,i){if(null===t||!l(t)||m.isKeyword(t))return t;if(t.match(f))return null;if(r&&r.hasOwnProperty(t)&&!0!==a.get(t)&&m.createTermDefinition({activeCtx:e,localCtx:r,term:t,defined:a,options:i}),(n=n||{}).vocab){let n=e.mappings.get(t);if(null===n)return null;if(o(n)&&"@id"in n)return n["@id"]}let s=t.indexOf(":");if(s>0){let n=t.substr(0,s),o=t.substr(s+1);if("_"===n||0===o.indexOf("//"))return t;r&&r.hasOwnProperty(n)&&m.createTermDefinition({activeCtx:e,localCtx:r,term:n,defined:a,options:i});let l=e.mappings.get(n);if(l&&l._prefix)return l["@id"]+o;if(d(t))return t}if(n.vocab&&"@vocab"in e)t=e["@vocab"]+t;else if(n.base){let n,r;"@base"in e?e["@base"]?(r=u(i.base,e["@base"]),n=u(r,t)):(r=e["@base"],n=t):(r=i.base,n=u(i.base,t)),t=n}return t}t.exports=m,m.process=async e=>{let{activeCtx:t,localCtx:n,options:r,propagate:s=!0,overrideProtected:f=!1,cycles:v=new Set}=e;if(o(n)&&"@context"in n&&i(n["@context"])&&(n=n["@context"]),0===g(n).length)return t;let y=[],b=[e=>{let{event:t,next:n}=e;y.push(t),n()}];r.eventHandler&&b.push(r.eventHandler);let w=r;r={...r,eventHandler:b};let j=await r.contextResolver.resolve({activeCtx:t,context:n,documentLoader:r.documentLoader,base:r.base});o(j[0].document)&&"boolean"==typeof j[0].document["@propagate"]&&(s=j[0].document["@propagate"]);let I=t;for(let e of(s||I.previousContext||((I=I.clone()).previousContext=t),j)){let{document:i}=e;if(t=I,null===i){if(!f&&0!==Object.keys(t.protected).length)throw new a("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});I=t=m.getInitialContext(r).clone();continue}let s=e.getProcessed(t);if(s){if(w.eventHandler)for(let e of s.events)p({event:e,options:w});I=t=s.context;continue}if(o(i)&&"@context"in i&&(i=i["@context"]),!o(i))throw new a("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:i});I=I.clone();let g=new Map;if("@version"in i){if(1.1!==i["@version"])throw new a("Unsupported JSON-LD version: "+i["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:i});if(t.processingMode&&"json-ld-1.0"===t.processingMode)throw new a("@version: "+i["@version"]+" not compatible with "+t.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:i});I.processingMode="json-ld-1.1",I["@version"]=i["@version"],g.set("@version",!0)}if(I.processingMode=I.processingMode||t.processingMode,"@base"in i){let e=i["@base"];if(null===e||d(e));else if(c(e))e=u(I["@base"],e);else throw new a('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:i});I["@base"]=e,g.set("@base",!0)}if("@vocab"in i){let e=i["@vocab"];if(null===e)delete I["@vocab"];else if(l(e))if(!d(e)&&m.processingMode(I,1))throw new a('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:i});else{let t=x(I,e,{vocab:!0,base:!0},void 0,void 0,r);!d(t)&&r.eventHandler&&p({event:{type:["JsonLdEvent"],code:"relative @vocab reference",level:"warning",message:"Relative @vocab reference found.",details:{vocab:t}},options:r}),I["@vocab"]=t}else throw new a('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:i});g.set("@vocab",!0)}if("@language"in i){let e=i["@language"];if(null===e)delete I["@language"];else if(l(e))!e.match(h)&&r.eventHandler&&p({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:e}},options:r}),I["@language"]=e.toLowerCase();else throw new a('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:i});g.set("@language",!0)}if("@direction"in i){let e=i["@direction"];if("json-ld-1.0"===t.processingMode)throw new a("Invalid JSON-LD syntax; @direction not compatible with "+t.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:i});if(null===e)delete I["@direction"];else if("ltr"!==e&&"rtl"!==e)throw new a('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:i});else I["@direction"]=e;g.set("@direction",!0)}if("@propagate"in i){let e=i["@propagate"];if("json-ld-1.0"===t.processingMode)throw new a("Invalid JSON-LD syntax; @propagate not compatible with "+t.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:i});if("boolean"!=typeof e)throw new a("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:n});g.set("@propagate",!0)}if("@import"in i){let e=i["@import"];if("json-ld-1.0"===t.processingMode)throw new a("Invalid JSON-LD syntax; @import not compatible with "+t.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:i});if(!l(e))throw new a("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:n});let o=await r.contextResolver.resolve({activeCtx:t,context:e,documentLoader:r.documentLoader,base:r.base});if(1!==o.length)throw new a("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:n});let s=o[0].getProcessed(t);if(s)i=s;else{let e=o[0].document;if("@import"in e)throw new a("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:n});for(let t in e)i.hasOwnProperty(t)||(i[t]=e[t]);o[0].setProcessed(t,i)}g.set("@import",!0)}for(let e in g.set("@protected",i["@protected"]||!1),i)if(m.createTermDefinition({activeCtx:I,localCtx:i,term:e,defined:g,options:r,overrideProtected:f}),o(i[e])&&"@context"in i[e]){let t=i[e]["@context"],n=!0;if(l(t)){let e=u(r.base,t);v.has(e)?n=!1:v.add(e)}if(n)try{await m.process({activeCtx:I.clone(),localCtx:i[e]["@context"],overrideProtected:!0,options:r,cycles:v})}catch(t){throw new a("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:i[e]["@context"],term:e})}}e.setProcessed(t,{context:I,events:y})}return I},m.createTermDefinition=e=>{let t,{activeCtx:n,localCtx:r,term:s,defined:c,options:u,overrideProtected:h=!1}=e;if(c.has(s)){if(c.get(s))return;throw new a("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:r,term:s})}if(c.set(s,!1),r.hasOwnProperty(s)&&(t=r[s]),"@type"===s&&o(t)&&"@set"===(t["@container"]||"@set")&&m.processingMode(n,1.1)){let e=["@container","@id","@protected"],n=Object.keys(t);if(0===n.length||n.some(t=>!e.includes(t)))throw new a("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:r,term:s})}else if(m.isKeyword(s))throw new a("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:r,term:s});else if(s.match(f)){u.eventHandler&&p({event:{type:["JsonLdEvent"],code:"reserved term",level:"warning",message:'Terms beginning with "@" are reserved for future use and dropped.',details:{term:s}},options:u});return}else if(""===s)throw new a("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:r});let g=n.mappings.get(s);n.mappings.has(s)&&n.mappings.delete(s);let v=!1;if((l(t)||null===t)&&(v=!0,t={"@id":t}),!o(t))throw new a("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:r});let y={};n.mappings.set(s,y),y.reverse=!1;let b=["@container","@id","@language","@reverse","@type"];for(let e in m.processingMode(n,1.1)&&b.push("@context","@direction","@index","@nest","@prefix","@protected"),t)if(!b.includes(e))throw new a("Invalid JSON-LD syntax; a term definition must not contain "+e,"jsonld.SyntaxError",{code:"invalid term definition",context:r});let w=s.indexOf(":");if(y._termHasColon=w>0,"@reverse"in t){if("@id"in t)throw new a("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:r});if("@nest"in t)throw new a("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:r});let e=t["@reverse"];if(!l(e))throw new a("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:r});if(e.match(f)){u.eventHandler&&p({event:{type:["JsonLdEvent"],code:"reserved @reverse value",level:"warning",message:'@reverse values beginning with "@" are reserved for future use and dropped.',details:{reverse:e}},options:u}),g?n.mappings.set(s,g):n.mappings.delete(s);return}let i=x(n,e,{vocab:!0,base:!1},r,c,u);if(!d(i))throw new a("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:r});y["@id"]=i,y.reverse=!0}else if("@id"in t){let e=t["@id"];if(e&&!l(e))throw new a("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:r});if(null===e)y["@id"]=null;else if(!m.isKeyword(e)&&e.match(f)){u.eventHandler&&p({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:'@id values beginning with "@" are reserved for future use and dropped.',details:{id:e}},options:u}),g?n.mappings.set(s,g):n.mappings.delete(s);return}else if(e!==s){if(!d(e=x(n,e,{vocab:!0,base:!1},r,c,u))&&!m.isKeyword(e))throw new a("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:r});if(s.match(/(?::[^:])|\//)){let t=new Map(c).set(s,!0);if(x(n,s,{vocab:!0,base:!1},r,t,u)!==e)throw new a("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:r})}y["@id"]=e,y._prefix=v&&!y._termHasColon&&null!==e.match(/[:\/\?#\[\]@]$/)}}if(!("@id"in y))if(y._termHasColon){let e=s.substr(0,w);if(r.hasOwnProperty(e)&&m.createTermDefinition({activeCtx:n,localCtx:r,term:e,defined:c,options:u}),n.mappings.has(e)){let t=s.substr(w+1);y["@id"]=n.mappings.get(e)["@id"]+t}else y["@id"]=s}else if("@type"===s)y["@id"]=s;else{if(!("@vocab"in n))throw new a("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:r,term:s});y["@id"]=n["@vocab"]+s}if((!0===t["@protected"]||!0===c.get("@protected")&&!1!==t["@protected"])&&(n.protected[s]=!0,y.protected=!0),c.set(s,!0),"@type"in t){let e=t["@type"];if(!l(e))throw new a("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:r});if("@json"===e||"@none"===e){if(m.processingMode(n,1))throw new a("Invalid JSON-LD syntax; an @context @type value must not be "+'"'.concat(e,'" in JSON-LD 1.0 mode.'),"jsonld.SyntaxError",{code:"invalid type mapping",context:r})}else if("@id"!==e&&"@vocab"!==e){if(!d(e=x(n,e,{vocab:!0,base:!1},r,c,u)))throw new a("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:r});if(0===e.indexOf("_:"))throw new a("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:r})}y["@type"]=e}if("@container"in t){let e=l(t["@container"])?[t["@container"]]:t["@container"]||[],o=["@list","@set","@index","@language"],s=!0,d=e.includes("@set");if(m.processingMode(n,1.1)){if(o.push("@graph","@id","@type"),e.includes("@list")){if(1!==e.length)throw new a("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:r})}else if(e.includes("@graph")){if(e.some(e=>"@graph"!==e&&"@id"!==e&&"@index"!==e&&"@set"!==e))throw new a("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:r})}else s&=e.length<=(d?2:1);if(e.includes("@type")&&(y["@type"]=y["@type"]||"@id",!["@id","@vocab"].includes(y["@type"])))throw new a("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:r})}else s&=!i(t["@container"]),s&=e.length<=1;if(s&=e.every(e=>o.includes(e)),!(s&=!(d&&e.includes("@list"))))throw new a("Invalid JSON-LD syntax; @context @container value must be one of the following: "+o.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:r});if(y.reverse&&!e.every(e=>["@index","@set"].includes(e)))throw new a("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:r});y["@container"]=e}if("@index"in t){if(!("@container"in t)||!y["@container"].includes("@index"))throw new a("Invalid JSON-LD syntax; @index without @index in @container: "+'"'.concat(t["@index"],'" on term "').concat(s,'".'),"jsonld.SyntaxError",{code:"invalid term definition",context:r});if(!l(t["@index"])||0===t["@index"].indexOf("@"))throw new a("Invalid JSON-LD syntax; @index must expand to an IRI: "+'"'.concat(t["@index"],'" on term "').concat(s,'".'),"jsonld.SyntaxError",{code:"invalid term definition",context:r});y["@index"]=t["@index"]}if("@context"in t&&(y["@context"]=t["@context"]),"@language"in t&&!("@type"in t)){let e=t["@language"];if(null!==e&&!l(e))throw new a("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:r});null!==e&&(e=e.toLowerCase()),y["@language"]=e}if("@prefix"in t){if(s.match(/:|\//))throw new a("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:r});if(m.isKeyword(y["@id"]))throw new a("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:r});if("boolean"==typeof t["@prefix"])y._prefix=!0===t["@prefix"];else throw new a("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:r})}if("@direction"in t){let e=t["@direction"];if(null!==e&&"ltr"!==e&&"rtl"!==e)throw new a('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:r});y["@direction"]=e}if("@nest"in t){let e=t["@nest"];if(!l(e)||"@nest"!==e&&0===e.indexOf("@"))throw new a("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:r});y["@nest"]=e}let j=y["@id"];if("@context"===j||"@preserve"===j)throw new a("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:r});if(g&&g.protected&&!h&&(n.protected[s]=!0,y.protected=!0,!function e(t,n){if(!(t&&"object"==typeof t)||!(n&&"object"==typeof n))return t===n;let r=Array.isArray(t);if(r!==Array.isArray(n))return!1;if(r){if(t.length!==n.length)return!1;for(let r=0;r<t.length;++r)if(!e(t[r],n[r]))return!1;return!0}let a=Object.keys(t),i=Object.keys(n);if(a.length!==i.length)return!1;for(let r in t){let a=t[r],i=n[r];if("@container"===r&&Array.isArray(a)&&Array.isArray(i)&&(a=a.slice().sort(),i=i.slice().sort()),!e(a,i))return!1}return!0}(g,y)))throw new a("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:r,term:s})},m.expandIri=(e,t,n,r)=>x(e,t,n,void 0,void 0,r),m.getInitialContext=e=>{let t=JSON.stringify({processingMode:e.processingMode}),n=y.get(t);if(n)return n;let a={processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:function(){if(this.inverse)return this.inverse;let e=this.inverse={},t=this.fastCurieMap={},n={},r=(this["@language"]||"@none").toLowerCase(),a=this["@direction"],o=this.mappings;for(let l of[...o.keys()].sort(v)){let s=o.get(l);if(null===s)continue;let d=s["@container"]||"@none";if(d=[].concat(d).sort().join(""),null!==s["@id"])for(let o of g(s["@id"])){let c=e[o],u=m.isKeyword(o);if(c)u||s._termHasColon||n[o].push(l);else if(e[o]=c={},!u&&!s._termHasColon){n[o]=[l];let e={iri:o,terms:n[o]};o[0]in t?t[o[0]].push(e):t[o[0]]=[e]}if(c[d]||(c[d]={"@language":{},"@type":{},"@any":{}}),i(l,(c=c[d])["@any"],"@none"),s.reverse)i(l,c["@type"],"@reverse");else if("@none"===s["@type"])i(l,c["@any"],"@none"),i(l,c["@language"],"@none"),i(l,c["@type"],"@none");else if("@type"in s)i(l,c["@type"],s["@type"]);else if("@language"in s&&"@direction"in s){let e=s["@language"],t=s["@direction"];e&&t?i(l,c["@language"],"".concat(e,"_").concat(t).toLowerCase()):e?i(l,c["@language"],e.toLowerCase()):t?i(l,c["@language"],"_".concat(t)):i(l,c["@language"],"@null")}else"@language"in s?i(l,c["@language"],(s["@language"]||"@null").toLowerCase()):"@direction"in s?s["@direction"]?i(l,c["@language"],"_".concat(s["@direction"])):i(l,c["@language"],"@none"):(a?i(l,c["@language"],"_".concat(a)):i(l,c["@language"],r),i(l,c["@language"],"@none"),i(l,c["@type"],"@none"))}}for(let e in t)!function e(t,n,r){let a,i,o=t[n],l=t[n]={};for(let e of o)(i=r>=(a=e.iri).length?"":a[r])in l?l[i].push(e):l[i]=[e];for(let t in l)""!==t&&e(l,t,r+1)}(t,e,1);return e},clone:function(){let e={};return e.mappings=r.clone(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,e.protected=r.clone(this.protected),this.previousContext&&(e.previousContext=this.previousContext.clone()),e.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(e["@base"]=this["@base"]),"@language"in this&&(e["@language"]=this["@language"]),"@vocab"in this&&(e["@vocab"]=this["@vocab"]),e},revertToPreviousContext:function(){return this.previousContext?this.previousContext.clone():this},protected:{}};return 1e4===y.size&&y.clear(),y.set(t,a),a;function i(e,t,n){t.hasOwnProperty(n)||(t[n]=e)}},m.getContextValue=(e,t,n)=>{if(null===t){if("@context"===n)return;return null}if(e.mappings.has(t)){let r=e.mappings.get(t);if(s(n))return r;if(r.hasOwnProperty(n))return r[n]}return"@language"===n&&n in e||"@direction"===n&&n in e?e[n]:"@context"!==n?null:void 0},m.processingMode=(e,t)=>t.toString()>="1.1"?!e.processingMode||e.processingMode>="json-ld-"+t.toString():"json-ld-1.0"===e.processingMode,m.isKeyword=e=>{if(!l(e)||"@"!==e[0])return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1}},1654,(e,t,n)=>{"use strict";let r=e.r(2534),{isArray:a,isObject:i,isEmptyObject:o,isString:l,isUndefined:s}=e.r(8119),{isList:d,isValue:c,isGraph:u,isSubject:p}=e.r(2285),{expandIri:h,getContextValue:f,isKeyword:g,process:v,processingMode:y}=e.r(8445),{isAbsolute:m}=e.r(1854),{REGEX_BCP47:x,REGEX_KEYWORD:b,addValue:w,asArray:j,getValues:I,validateTypeValue:N}=e.r(2925),{handleEvent:S}=e.r(6877),k={};function O(e){let{value:t,count:n,options:r}=e;if(0===n||"@value"in t||"@list"in t||1===n&&"@id"in t){if(r.eventHandler){let e,a;0===n?(e="empty object",a="Dropping empty object."):"@value"in t?(e="object with only @value",a="Dropping object with only @value."):"@list"in t?(e="object with only @list",a="Dropping object with only @list."):1===n&&"@id"in t&&(e="object with only @id",a="Dropping object with only @id."),S({event:{type:["JsonLdEvent"],code:e,level:"warning",message:a,details:{value:t}},options:r})}return null}return t}async function E(e){let t,{activeCtx:n,activeProperty:u,expandedActiveProperty:b,element:I,expandedParent:D,options:A={},insideList:R,typeKey:T,typeScopedContext:C}=e,_=Object.keys(I).sort(),M=[],J=I[T]&&"@json"===h(n,a(I[T])?I[T][0]:I[T],{vocab:!0},{...A,typeExpansion:!0});for(let e of _){let E,R=I[e];if("@context"===e)continue;let T=h(n,e,{vocab:!0},A);if(null===T||!(m(T)||g(T))){A.eventHandler&&S({event:{type:["JsonLdEvent"],code:"invalid property",level:"warning",message:"Dropping property that did not expand into an absolute IRI or keyword.",details:{property:e,expandedProperty:T}},options:A});continue}if(g(T)){if("@reverse"===b)throw new r("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:R});if(T in D&&"@included"!==T&&"@type"!==T)throw new r("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:T})}if("@id"===T){if(!l(R)){if(!A.isFrame)throw new r('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:R});if(i(R)){if(!o(R))throw new r('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:R})}else if(a(R)){if(!R.every(e=>l(e)))throw new r('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:R})}else throw new r('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:R})}w(D,"@id",j(R).map(e=>{if(l(e)){let t=h(n,e,{base:!0},A);return A.eventHandler&&(null===t?null===e?S({event:{type:["JsonLdEvent"],code:"null @id value",level:"warning",message:"Null @id found.",details:{id:e}},options:A}):S({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:e}},options:A}):m(t)||S({event:{type:["JsonLdEvent"],code:"relative @id reference",level:"warning",message:"Relative @id reference found.",details:{id:e,expandedId:t}},options:A})),t}return e}),{propertyIsArray:A.isFrame});continue}if("@type"===T){i(R)&&(R=Object.fromEntries(Object.entries(R).map(e=>{let[t,n]=e;return[h(C,t,{vocab:!0}),j(n).map(e=>h(C,e,{base:!0,vocab:!0},{...A,typeExpansion:!0}))]}))),N(R,A.isFrame),w(D,"@type",j(R).map(e=>{if(l(e)){let t=h(C,e,{base:!0,vocab:!0},{...A,typeExpansion:!0});return"@json"!==t&&!m(t)&&A.eventHandler&&S({event:{type:["JsonLdEvent"],code:"relative @type reference",level:"warning",message:"Relative @type reference found.",details:{type:e}},options:A}),t}return e}),{propertyIsArray:!!A.isFrame});continue}if("@included"===T&&y(n,1.1)){let e=j(await k.expand({activeCtx:n,activeProperty:u,element:R,options:A}));if(!e.every(e=>p(e)))throw new r("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:R});w(D,"@included",e,{propertyIsArray:!0});continue}if("@graph"===T&&!(i(R)||a(R)))throw new r('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:R});if("@value"===T){t=R,J&&y(n,1.1)?D["@value"]=R:w(D,"@value",R,{propertyIsArray:A.isFrame});continue}if("@language"===T){if(null===R)continue;if(!l(R)&&!A.isFrame)throw new r('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:R});for(let e of R=j(R).map(e=>l(e)?e.toLowerCase():e))l(e)&&!e.match(x)&&A.eventHandler&&S({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:e}},options:A});w(D,"@language",R,{propertyIsArray:A.isFrame});continue}if("@direction"===T){if(!l(R)&&!A.isFrame)throw new r('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:R});for(let e of R=j(R))if(l(e)&&"ltr"!==e&&"rtl"!==e)throw new r('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:R});w(D,"@direction",R,{propertyIsArray:A.isFrame});continue}if("@index"===T){if(!l(R))throw new r('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:R});w(D,"@index",R);continue}if("@reverse"===T){if(!i(R))throw new r('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:R});if("@reverse"in(E=await k.expand({activeCtx:n,activeProperty:"@reverse",element:R,options:A})))for(let e in E["@reverse"])w(D,e,E["@reverse"][e],{propertyIsArray:!0});let e=D["@reverse"]||null;for(let t in E){if("@reverse"===t)continue;null===e&&(e=D["@reverse"]={}),w(e,t,[],{propertyIsArray:!0});let n=E[t];for(let a=0;a<n.length;++a){let i=n[a];if(c(i)||d(i))throw new r('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:E});w(e,t,i,{propertyIsArray:!0})}}continue}if("@nest"===T){M.push(e);continue}let _=n,P=f(n,e,"@context");s(P)||(_=await v({activeCtx:n,localCtx:P,propagate:!0,overrideProtected:!0,options:A}));let H=f(n,e,"@container")||[];if(H.includes("@language")&&i(R)){let t=f(_,e,"@direction");E=function(e,t,n,i){let o=[];for(let s of Object.keys(t).sort()){let d=h(e,s,{vocab:!0},i),c=t[s];for(let e of(a(c)||(c=[c]),c)){if(null===e)continue;if(!l(e))throw new r("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});let a={"@value":e};"@none"!==d&&(!s.match(x)&&i.eventHandler&&S({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:s}},options:i}),a["@language"]=s.toLowerCase()),n&&(a["@direction"]=n),o.push(a)}}return o}(_,R,t,A)}else if(H.includes("@index")&&i(R)){let t=H.includes("@graph"),r=f(_,e,"@index")||"@index",a="@index"!==r&&h(n,r,{vocab:!0},A);E=await L({activeCtx:_,options:A,activeProperty:e,value:R,asGraph:t,indexKey:r,propertyIndex:a})}else if(H.includes("@id")&&i(R)){let t=H.includes("@graph");E=await L({activeCtx:_,options:A,activeProperty:e,value:R,asGraph:t,indexKey:"@id"})}else if(H.includes("@type")&&i(R))E=await L({activeCtx:_.revertToPreviousContext(),options:A,activeProperty:e,value:R,asGraph:!1,indexKey:"@type"});else{let t="@list"===T;if(t||"@set"===T){let e=u;t&&"@graph"===b&&(e=null),E=await k.expand({activeCtx:_,activeProperty:e,element:R,options:A,insideList:t})}else E="@json"===f(n,e,"@type")?{"@type":"@json","@value":R}:await k.expand({activeCtx:_,activeProperty:e,element:R,options:A,insideList:!1})}if(null!==E||"@value"===T){if("@list"!==T&&!d(E)&&H.includes("@list")&&(E={"@list":j(E)}),H.includes("@graph")&&!H.some(e=>"@id"===e||"@index"===e)){if(E=j(E),A.isFrame||(E=E.filter(e=>{let t=Object.keys(e).length;return null!==O({value:e,count:t,options:A})})),0===E.length)continue;E=E.map(e=>({"@graph":j(e)}))}if(_.mappings.has(e)&&_.mappings.get(e).reverse){let e=D["@reverse"]=D["@reverse"]||{};E=j(E);for(let t=0;t<E.length;++t){let n=E[t];if(c(n)||d(n))throw new r('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:E});w(e,T,n,{propertyIsArray:!0})}continue}w(D,T,E,{propertyIsArray:!0})}}if("@value"in D){if("@json"===D["@type"]&&y(n,1.1));else if((i(t)||a(t))&&!A.isFrame)throw new r('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:t})}for(let e of M)for(let t of a(I[e])?I[e]:[I[e]]){if(!i(t)||Object.keys(t).some(e=>"@value"===h(n,e,{vocab:!0},A)))throw new r("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:t});await E({activeCtx:n,activeProperty:u,expandedActiveProperty:b,element:t,expandedParent:D,options:A,insideList:R,typeScopedContext:C,typeKey:T})}}function D(e){let{activeCtx:t,activeProperty:n,value:r,options:a}=e;if(null==r)return null;let i=h(t,n,{vocab:!0},a);if("@id"===i)return h(t,r,{base:!0},a);if("@type"===i)return h(t,r,{vocab:!0,base:!0},{...a,typeExpansion:!0});let o=f(t,n,"@type");if(("@id"===o||"@graph"===i)&&l(r)){let e=h(t,r,{base:!0},a);return null===e&&r.match(b)&&a.eventHandler&&S({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:n}},options:a}),{"@id":e}}if("@vocab"===o&&l(r))return{"@id":h(t,r,{vocab:!0,base:!0},a)};if(g(i))return r;let s={};if(o&&!["@id","@vocab","@none"].includes(o))s["@type"]=o;else if(l(r)){let e=f(t,n,"@language");null!==e&&(s["@language"]=e);let r=f(t,n,"@direction");null!==r&&(s["@direction"]=r)}return["boolean","number","string"].includes(typeof r)||(r=r.toString()),s["@value"]=r,s}async function L(e){let{activeCtx:t,options:n,activeProperty:i,value:o,asGraph:l,indexKey:d,propertyIndex:p}=e,g=[],y=Object.keys(o).sort(),m="@type"===d;for(let e of y){let y;if(m){let r=f(t,e,"@context");s(r)||(t=await v({activeCtx:t,localCtx:r,propagate:!1,options:n}))}let x=o[e];for(let o of(a(x)||(x=[x]),x=await k.expand({activeCtx:t,activeProperty:i,element:x,options:n,insideList:!1,insideIndex:!0}),y=p?"@none"===e?"@none":D({activeCtx:t,activeProperty:d,value:e,options:n}):h(t,e,{vocab:!0},n),"@id"===d?e=h(t,e,{base:!0},n):m&&(e=y),x)){if(l&&!u(o)&&(o={"@graph":[o]}),"@type"===d)"@none"===y||(o["@type"]?o["@type"]=[e].concat(o["@type"]):o["@type"]=[e]);else if(c(o)&&!["@language","@type","@index"].includes(d))throw new r("Invalid JSON-LD syntax; Attempt to add illegal key to value "+'object: "'.concat(d,'".'),"jsonld.SyntaxError",{code:"invalid value object",value:o});else p?"@none"!==y&&w(o,p,y,{propertyIsArray:!0,prependValue:!0}):"@none"===y||d in o||(o[d]=e);g.push(o)}}return g}t.exports=k,k.expand=async e=>{let{activeCtx:t,activeProperty:n=null,element:d,options:c={},insideList:u=!1,insideIndex:p=!1,typeScopedContext:g=null}=e;if(null==d)return null;if("@default"===n&&(c=Object.assign({},c,{isFrame:!1})),!a(d)&&!i(d))return u||null!==n&&"@graph"!==h(t,n,{vocab:!0},c)?D({activeCtx:t,activeProperty:n,value:d,options:c}):(c.eventHandler&&S({event:{type:["JsonLdEvent"],code:"free-floating scalar",level:"warning",message:"Dropping free-floating scalar not in a list.",details:{value:d}},options:c}),null);if(a(d)){let e=[],r=f(t,n,"@container")||[];u=u||r.includes("@list");for(let r=0;r<d.length;++r){let i=await k.expand({activeCtx:t,activeProperty:n,element:d[r],options:c,insideIndex:p,typeScopedContext:g});u&&a(i)&&(i={"@list":i}),null!==i&&(a(i)?e=e.concat(i):e.push(i))}return e}let x=h(t,n,{vocab:!0},c),b=f(t,n,"@context");g=g||(t.previousContext?t:null);let w=Object.keys(d).sort(),N=!p;if(N&&g&&w.length<=2&&!w.includes("@context"))for(let e of w){let n=h(g,e,{vocab:!0},c);if("@value"===n){N=!1,t=g;break}if("@id"===n&&1===w.length){N=!1;break}}N&&(t=t.revertToPreviousContext()),s(b)||(t=await v({activeCtx:t,localCtx:b,propagate:!0,overrideProtected:!0,options:c})),"@context"in d&&(t=await v({activeCtx:t,localCtx:d["@context"],options:c})),g=t;let L=null;for(let e of w)if("@type"===h(t,e,{vocab:!0},c)){L=L||e;let n=d[e];for(let e of Array.isArray(n)?n.length>1?n.slice().sort():n:[n]){let n=f(g,e,"@context");s(n)||(t=await v({activeCtx:t,localCtx:n,options:c,propagate:!1}))}}let A={};await E({activeCtx:t,activeProperty:n,expandedActiveProperty:x,element:d,expandedParent:A,options:c,insideList:u,typeKey:L,typeScopedContext:g});let R=(w=Object.keys(A)).length;if("@value"in A){if("@type"in A&&("@language"in A||"@direction"in A))throw new r('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:A});let e=R-1;if("@type"in A&&(e-=1),"@index"in A&&(e-=1),"@language"in A&&(e-=1),"@direction"in A&&(e-=1),0!==e)throw new r('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:A});let n=null===A["@value"]?[]:j(A["@value"]),a=I(A,"@type");if(y(t,1.1)&&a.includes("@json")&&1===a.length);else if(0===n.length)c.eventHandler&&S({event:{type:["JsonLdEvent"],code:"null @value value",level:"warning",message:"Dropping null @value value.",details:{value:A}},options:c}),A=null;else if(!n.every(e=>l(e)||o(e))&&"@language"in A)throw new r("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:A});else if(!a.every(e=>m(e)&&!(l(e)&&0===e.indexOf("_:"))||o(e)))throw new r('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:A})}else if("@type"in A&&!a(A["@type"]))A["@type"]=[A["@type"]];else if("@set"in A||"@list"in A){if(R>1&&!(2===R&&"@index"in A))throw new r('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:A});"@set"in A&&(R=(w=Object.keys(A=A["@set"])).length)}else 1===R&&"@language"in A&&(c.eventHandler&&S({event:{type:["JsonLdEvent"],code:"object with only @language",level:"warning",message:"Dropping object with only @language.",details:{value:A}},options:c}),A=null);return i(A)&&!c.keepFreeFloatingNodes&&!u&&(null===n||"@graph"===x||(f(t,n,"@container")||[]).includes("@graph"))&&(A=O({value:A,count:R,options:c})),A}},6961,(e,t,n)=>{"use strict";let{isKeyword:r}=e.r(8445),a=e.r(2285),i=e.r(8119),o=e.r(2925),l=e.r(2534),s={};t.exports=s,s.createMergedNodeMap=(e,t)=>{let n=(t=t||{}).issuer||new o.IdentifierIssuer("_:b"),r={"@default":{}};return s.createNodeMap(e,r,"@default",n),s.mergeNodeMaps(r)},s.createNodeMap=(e,t,n,d,c,u)=>{if(i.isArray(e)){for(let r of e)s.createNodeMap(r,t,n,d,void 0,u);return}if(!i.isObject(e)){u&&u.push(e);return}if(a.isValue(e)){if("@type"in e){let t=e["@type"];0===t.indexOf("_:")&&(e["@type"]=t=d.getId(t))}u&&u.push(e);return}if(u&&a.isList(e)){let r=[];s.createNodeMap(e["@list"],t,n,d,c,r),u.push({"@list":r});return}if("@type"in e)for(let t of e["@type"])0===t.indexOf("_:")&&d.getId(t);i.isUndefined(c)&&(c=a.isBlankNode(e)?d.getId(e["@id"]):e["@id"]),u&&u.push({"@id":c});let p=t[n],h=p[c]=p[c]||{};for(let i of(h["@id"]=c,Object.keys(e).sort())){if("@id"===i)continue;if("@reverse"===i){let r={"@id":c},i=e["@reverse"];for(let e in i)for(let l of i[e]){let i=l["@id"];a.isBlankNode(l)&&(i=d.getId(i)),s.createNodeMap(l,t,n,d,i),o.addValue(p[i],e,r,{propertyIsArray:!0,allowDuplicate:!1})}continue}if("@graph"===i){c in t||(t[c]={}),s.createNodeMap(e[i],t,c,d);continue}if("@included"===i){s.createNodeMap(e[i],t,n,d);continue}if("@type"!==i&&r(i)){if("@index"===i&&i in h&&(e[i]!==h[i]||e[i]["@id"]!==h[i]["@id"]))throw new l("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:h});h[i]=e[i];continue}let u=e[i];if(0===i.indexOf("_:")&&(i=d.getId(i)),0===u.length){o.addValue(h,i,[],{propertyIsArray:!0});continue}for(let e of u)if("@type"===i&&(e=0===e.indexOf("_:")?d.getId(e):e),a.isSubject(e)||a.isSubjectReference(e)){if("@id"in e&&!e["@id"])continue;let r=a.isBlankNode(e)?d.getId(e["@id"]):e["@id"];o.addValue(h,i,{"@id":r},{propertyIsArray:!0,allowDuplicate:!1}),s.createNodeMap(e,t,n,d,r)}else if(a.isValue(e))o.addValue(h,i,e,{propertyIsArray:!0,allowDuplicate:!1});else if(a.isList(e)){let r=[];s.createNodeMap(e["@list"],t,n,d,c,r),e={"@list":r},o.addValue(h,i,e,{propertyIsArray:!0,allowDuplicate:!1})}else s.createNodeMap(e,t,n,d,c),o.addValue(h,i,e,{propertyIsArray:!0,allowDuplicate:!1})}},s.mergeNodeMapGraphs=e=>{let t={};for(let n of Object.keys(e).sort())for(let a of Object.keys(e[n]).sort()){let i=e[n][a];a in t||(t[a]={"@id":a});let l=t[a];for(let e of Object.keys(i).sort())if(r(e)&&"@type"!==e)l[e]=o.clone(i[e]);else for(let t of i[e])o.addValue(l,e,o.clone(t),{propertyIsArray:!0,allowDuplicate:!1})}return t},s.mergeNodeMaps=e=>{let t=e["@default"];for(let n of Object.keys(e).sort()){if("@default"===n)continue;let r=e[n],i=t[n];i?"@graph"in i||(i["@graph"]=[]):t[n]=i={"@id":n,"@graph":[]};let o=i["@graph"];for(let e of Object.keys(r).sort()){let t=r[e];a.isSubjectReference(t)||o.push(t)}}return t}},6771,(e,t,n)=>{"use strict";let{isSubjectReference:r}=e.r(2285),{createMergedNodeMap:a}=e.r(6961),i={};t.exports=i,i.flatten=e=>{let t=a(e),n=[],i=Object.keys(t).sort();for(let e=0;e<i.length;++e){let a=t[i[e]];r(a)||n.push(a)}return n}},7120,(e,t,n)=>{"use strict";let r=e.r(2534),a=e.r(2285),i=e.r(8119),{REGEX_BCP47:o,addValue:l}=e.r(2925),{handleEvent:s}=e.r(6877),{RDF_LIST:d,RDF_FIRST:c,RDF_REST:u,RDF_NIL:p,RDF_TYPE:h,RDF_JSON_LITERAL:f,XSD_BOOLEAN:g,XSD_DOUBLE:v,XSD_INTEGER:y,XSD_STRING:m}=e.r(4487),x={};t.exports=x,x.fromRDF=async(e,t)=>{let{useRdfType:n=!1,useNativeTypes:x=!1,rdfDirection:b=null}=t,w={},j={"@default":w},I={};if(b){if("compound-literal"===b)throw new r("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:b});else if("i18n-datatype"!==b)throw new r("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:b})}for(let a of e){let e="DefaultGraph"===a.graph.termType?"@default":a.graph.value;e in j||(j[e]={}),"@default"===e||e in w||(w[e]={"@id":e});let d=j[e],c=a.subject.value,u=a.predicate.value,N=a.object;c in d||(d[c]={"@id":c});let S=d[c],k=N.termType.endsWith("Node");if(!k||N.value in d||(d[N.value]={"@id":N.value}),u===h&&!n&&k){l(S,"@type",N.value,{propertyIsArray:!0});continue}let O=function(e,t,n,a){if(e.termType.endsWith("Node"))return{"@id":e.value};let l={"@value":e.value};if(e.language)!e.language.match(o)&&a.eventHandler&&s({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:e.language}},options:a}),l["@language"]=e.language;else{let d=e.datatype.value;if(d||(d=m),d===f){d="@json";try{l["@value"]=JSON.parse(l["@value"])}catch(e){throw new r("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:l["@value"],cause:e})}}if(t){if(d===g)"true"===l["@value"]?l["@value"]=!0:"false"===l["@value"]&&(l["@value"]=!1);else if(i.isNumeric(l["@value"]))if(d===y){let e=parseInt(l["@value"],10);e.toFixed(0)===l["@value"]&&(l["@value"]=e)}else d===v&&(l["@value"]=parseFloat(l["@value"]));[g,y,v,m].includes(d)||(l["@type"]=d)}else if("i18n-datatype"===n&&d.startsWith("https://www.w3.org/ns/i18n#")){let[,e,t]=d.split(/[#_]/);e.length>0&&(l["@language"]=e,!e.match(o)&&a.eventHandler&&s({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:e}},options:a})),l["@direction"]=t}else d!==m&&(l["@type"]=d)}return l}(N,x,b,t);if(l(S,u,O,{propertyIsArray:!0}),k)if(N.value===p){let e=d[N.value];"usages"in e||(e.usages=[]),e.usages.push({node:S,property:u,value:O})}else N.value in I?I[N.value]=!1:I[N.value]={node:S,property:u,value:O}}for(let e in j){let t=j[e];if(!(p in t))continue;let n=t[p];if(n.usages){for(let e of n.usages){let n=e.node,r=e.property,o=e.value,l=[],s=[],p=Object.keys(n).length;for(;r===u&&i.isObject(I[n["@id"]])&&i.isArray(n[c])&&1===n[c].length&&i.isArray(n[u])&&1===n[u].length&&(3===p||4===p&&i.isArray(n["@type"])&&1===n["@type"].length&&n["@type"][0]===d)&&(l.push(n[c][0]),s.push(n["@id"]),n=(e=I[n["@id"]]).node,r=e.property,o=e.value,p=Object.keys(n).length,a.isBlankNode(n)););for(let e of(delete o["@id"],o["@list"]=l.reverse(),s))delete t[e]}delete n.usages}}let N=[];for(let e of Object.keys(w).sort()){let t=w[e];if(e in j){let n=t["@graph"]=[],r=j[e];for(let e of Object.keys(r).sort()){let t=r[e];a.isSubjectReference(t)||n.push(t)}}a.isSubjectReference(t)||N.push(t)}return N}},3210,(e,t,n)=>{"use strict";t.exports=function e(t){return null===t||"object"!=typeof t||null!=t.toJSON?JSON.stringify(t):Array.isArray(t)?"["+t.reduce((t,n,r)=>t+(0===r?"":",")+e(void 0===n||"symbol"==typeof n?null:n),"")+"]":"{"+Object.keys(t).sort().reduce((n,r,a)=>{if(void 0===t[r]||"symbol"==typeof t[r])return n;let i=0===n.length?"":",";return n+i+e(r)+":"+e(t[r])},"")+"}"}},7065,(e,t,n)=>{"use strict";let{createNodeMap:r}=e.r(6961),{isKeyword:a}=e.r(8445),i=e.r(2285),o=e.r(3210),l=e.r(2534),s=e.r(8119),d=e.r(2925),{handleEvent:c}=e.r(6877),{RDF_FIRST:u,RDF_REST:p,RDF_NIL:h,RDF_TYPE:f,RDF_JSON_LITERAL:g,RDF_LANGSTRING:v,XSD_BOOLEAN:y,XSD_DOUBLE:m,XSD_INTEGER:x,XSD_STRING:b}=e.r(4487),{isAbsolute:w}=e.r(1854),j={};t.exports=j,j.toRDF=(e,t)=>{let n=new d.IdentifierIssuer("_:b"),j={"@default":{}};r(e,j,"@default",n);let I=[];for(let e of Object.keys(j).sort()){let r;if("@default"===e)r={termType:"DefaultGraph",value:""};else if(w(e))(r=e.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"}).value=e;else{t.eventHandler&&c({event:{type:["JsonLdEvent"],code:"relative graph reference",level:"warning",message:"Relative graph reference found.",details:{graph:e}},options:t});continue}!function(e,t,n,r,d){for(let j of Object.keys(t).sort()){let I=t[j];for(let t of Object.keys(I).sort()){let N=I[t];if("@type"===t)t=f;else if(a(t))continue;for(let a of N){let f={termType:j.startsWith("_:")?"BlankNode":"NamedNode",value:j};if(!w(j)){d.eventHandler&&c({event:{type:["JsonLdEvent"],code:"relative subject reference",level:"warning",message:"Relative subject reference found.",details:{subject:j}},options:d});continue}let I={termType:t.startsWith("_:")?"BlankNode":"NamedNode",value:t};if(!w(t)){d.eventHandler&&c({event:{type:["JsonLdEvent"],code:"relative predicate reference",level:"warning",message:"Relative predicate reference found.",details:{predicate:t}},options:d});continue}if("BlankNode"===I.termType&&!d.produceGeneralizedRdf){d.eventHandler&&c({event:{type:["JsonLdEvent"],code:"blank node predicate",level:"warning",message:"Dropping blank node predicate.",details:{property:r.getOldIds().find(e=>r.getId(e)===t)}},options:d});continue}let N=function e(t,n,r,a,d,f){let j={};if(i.isValue(t)){j.termType="Literal",j.value=void 0,j.datatype={termType:"NamedNode"};let e=t["@value"],n=t["@type"]||null;if("@json"===n)j.value=o(e),j.datatype.value=g;else if(s.isBoolean(e))j.value=e.toString(),j.datatype.value=n||y;else if(s.isDouble(e)||n===m)s.isDouble(e)||(e=parseFloat(e)),j.value=e.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),j.datatype.value=n||m;else if(s.isNumber(e))j.value=e.toFixed(0),j.datatype.value=n||x;else if("@direction"in t&&"i18n-datatype"===d){let n=(t["@language"]||"").toLowerCase(),r=t["@direction"],a="https://www.w3.org/ns/i18n#".concat(n,"_").concat(r);j.datatype.value=a,j.value=e}else if("@direction"in t&&"compound-literal"===d)throw new l("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:d});else if("@direction"in t&&d)throw new l("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:d});else"@language"in t?("@direction"in t&&!d&&f.eventHandler&&c({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:j.value}},options:f}),j.value=e,j.datatype.value=n||v,j.language=t["@language"]):("@direction"in t&&!d&&f.eventHandler&&c({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:j.value}},options:f}),j.value=e,j.datatype.value=n||b)}else if(i.isList(t)){let i=function(t,n,r,a,i,o){let l={termType:"NamedNode",value:u},s={termType:"NamedNode",value:p},d={termType:"NamedNode",value:h},c=t.pop(),f=c?{termType:"BlankNode",value:n.getId()}:d,g=f;for(let d of t){let t=e(d,n,r,a,i,o),c={termType:"BlankNode",value:n.getId()};r.push({subject:g,predicate:l,object:t,graph:a}),r.push({subject:g,predicate:s,object:c,graph:a}),g=c}if(c){let t=e(c,n,r,a,i,o);r.push({subject:g,predicate:l,object:t,graph:a}),r.push({subject:g,predicate:s,object:d,graph:a})}return f}(t["@list"],n,r,a,d,f);j.termType=i.termType,j.value=i.value}else{let e=s.isObject(t)?t["@id"]:t;j.termType=e.startsWith("_:")?"BlankNode":"NamedNode",j.value=e}return"NamedNode"!==j.termType||w(j.value)?j:(f.eventHandler&&c({event:{type:["JsonLdEvent"],code:"relative object reference",level:"warning",message:"Relative object reference found.",details:{object:j.value}},options:f}),null)}(a,r,e,n,d.rdfDirection,d);N&&e.push({subject:f,predicate:I,object:N,graph:n})}}}}(I,j[e],r,n,t)}return I}},6395,(e,t,n)=>{"use strict";let{isKeyword:r}=e.r(8445),a=e.r(2285),i=e.r(8119),o=e.r(2925),l=e.r(1854),s=e.r(2534),{createNodeMap:d,mergeNodeMapGraphs:c}=e.r(6961),u={};function p(e){let t={};for(let n in e)void 0!==e[n]&&(t["@"+n]=[e[n]]);return[t]}function h(e,t,n){let r="@"+n,a=r in e?e[r][0]:t[n];if("embed"===n){if(!0===a)a="@once";else if(!1===a)a="@never";else if("@always"!==a&&"@never"!==a&&"@link"!==a&&"@first"!==a&&"@last"!==a&&"@once"!==a)throw new s("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:e})}return a}function f(e){if(!i.isArray(e)||1!==e.length||!i.isObject(e[0]))throw new s("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e});if("@id"in e[0]){for(let t of o.asArray(e[0]["@id"]))if(!(i.isObject(t)||l.isAbsolute(t))||i.isString(t)&&0===t.indexOf("_:"))throw new s("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}if("@type"in e[0]){for(let t of o.asArray(e[0]["@type"]))if(!(i.isObject(t)||l.isAbsolute(t)||"@json"===t)||i.isString(t)&&0===t.indexOf("_:"))throw new s("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}}function g(e,t,n,l){let s=!0,d=!1;for(let c in n){let u=!1,p=o.getValues(t,c),h=0===o.getValues(n,c).length;if("@id"===c){if(i.isEmptyObject(n["@id"][0]||{})?u=!0:n["@id"].length>=0&&(u=n["@id"].includes(p[0])),!l.requireAll)return u}else if("@type"===c){if(s=!1,h){if(p.length>0)return!1;u=!0}else if(1===n["@type"].length&&i.isEmptyObject(n["@type"][0]))u=p.length>0;else for(let e of n["@type"])u=!!i.isObject(e)&&"@default"in e||u||p.some(t=>t===e);if(!l.requireAll)return u}else{if(r(c))continue;let t=o.getValues(n,c)[0],d=!1;if(t&&(f([t]),d="@default"in t),s=!1,0===p.length&&d)continue;if(p.length>0&&h)return!1;if(void 0===t){if(p.length>0)return!1;u=!0}else if(a.isList(t)){let n=t["@list"][0];if(a.isList(p[0])){let t=p[0]["@list"];a.isValue(n)?u=t.some(e=>m(n,e)):(a.isSubject(n)||a.isSubjectReference(n))&&(u=t.some(t=>y(e,n,t,l)))}}else u=a.isValue(t)?p.some(e=>m(t,e)):a.isSubjectReference(t)?p.some(n=>y(e,t,n,l)):!!i.isObject(t)&&p.length>0}if(!u&&l.requireAll)return!1;d=d||u}return s||d}function v(e,t,n){i.isObject(e)?o.addValue(e,t,n,{propertyIsArray:!0}):e.push(n)}function y(e,t,n,r){if(!("@id"in n))return!1;let a=e.subjects[n["@id"]];return a&&g(e,a,t,r)}function m(e,t){let n=t["@value"],r=t["@type"],a=t["@language"],o=e["@value"]?i.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],l=e["@type"]?i.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],s=e["@language"]?i.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return 0===o.length&&0===l.length&&0===s.length||!!(o.includes(n)||i.isEmptyObject(o[0]))&&!!(!r&&0===l.length||l.includes(r)||r&&i.isEmptyObject(l[0]))&&!!(!a&&0===s.length||s.includes(a)||a&&i.isEmptyObject(s[0]))}t.exports=u,u.frameMergedOrDefault=(e,t,n)=>{let r={options:n,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},l=new o.IdentifierIssuer("_:b");d(e,r.graphMap,"@default",l),n.merged&&(r.graphMap["@merged"]=c(r.graphMap),r.graph="@merged"),r.subjects=r.graphMap[r.graph];let s=[];return u.frame(r,Object.keys(r.subjects).sort(),t,s),n.pruneBlankNodeIdentifiers&&(n.bnodesToClear=Object.keys(r.bnodeMap).filter(e=>1===r.bnodeMap[e].length)),n.link={},function e(t,n){if(i.isArray(t))return t.map(t=>e(t,n));if(i.isObject(t)){if("@preserve"in t)return t["@preserve"][0];if(a.isValue(t))return t;if(a.isList(t))return t["@list"]=e(t["@list"],n),t;if("@id"in t){let e=t["@id"];if(n.link.hasOwnProperty(e)){let r=n.link[e].indexOf(t);if(-1!==r)return n.link[e][r];n.link[e].push(t)}else n.link[e]=[t]}for(let r in t){if("@id"===r&&n.bnodesToClear.includes(t[r])){delete t["@id"];continue}t[r]=e(t[r],n)}}return t}(s,n)},u.frame=function(e,t,n,l){let d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;f(n),n=n[0];let c=e.options,y={embed:h(n,c,"embed"),explicit:h(n,c,"explicit"),requireAll:h(n,c,"requireAll")};e.link.hasOwnProperty(e.graph)||(e.link[e.graph]={});let x=e.link[e.graph],b=function(e,t,n,r){let a={};for(let i of t){let t=e.graphMap[e.graph][i];g(e,t,n,r)&&(a[i]=t)}return a}(e,t,n,y);for(let f of Object.keys(b).sort()){let g=b[f];if(null===d?e.uniqueEmbeds={[e.graph]:{}}:e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{},"@link"===y.embed&&f in x){v(l,d,x[f]);continue}let w={"@id":f};if(0===f.indexOf("_:")&&o.addValue(e.bnodeMap,f,w,{propertyIsArray:!0}),x[f]=w,("@first"===y.embed||"@last"===y.embed)&&e.is11)throw new s("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:n});if(!(!e.embedded&&e.uniqueEmbeds[e.graph].hasOwnProperty(f))){if(e.embedded&&("@never"===y.embed||function(e,t,n){for(let r=n.length-1;r>=0;--r){let a=n[r];if(a.graph===t&&a.subject["@id"]===e["@id"])return!0}return!1}(g,e.graph,e.subjectStack))||e.embedded&&("@first"==y.embed||"@once"==y.embed)&&e.uniqueEmbeds[e.graph].hasOwnProperty(f)){v(l,d,w);continue}if("@last"===y.embed&&f in e.uniqueEmbeds[e.graph]&&function(e,t){let n=e.uniqueEmbeds[e.graph],r=n[t],a=r.parent,l=r.property,s={"@id":t};if(i.isArray(a)){for(let e=0;e<a.length;++e)if(o.compareValues(a[e],s)){a[e]=s;break}}else{let e=i.isArray(a[l]);o.removeValue(a,l,s,{propertyIsArray:e}),o.addValue(a,l,s,{propertyIsArray:e})}let d=e=>{for(let t of Object.keys(n))t in n&&i.isObject(n[t].parent)&&n[t].parent["@id"]===e&&(delete n[t],d(t))};d(t)}(e,f),e.uniqueEmbeds[e.graph][f]={parent:l,property:d},e.subjectStack.push({subject:g,graph:e.graph}),f in e.graphMap){let t=!1,r=null;"@graph"in n?(r=n["@graph"][0],t="@merged"!==f&&"@default"!==f,i.isObject(r)||(r={})):(t="@merged"!==e.graph,r={}),t&&u.frame({...e,graph:f,embedded:!1},Object.keys(e.graphMap[f]).sort(),[r],w,"@graph")}for(let i of("@included"in n&&u.frame({...e,embedded:!1},t,n["@included"],w,"@included"),Object.keys(g).sort())){if(r(i)){if(w[i]=o.clone(g[i]),"@type"===i)for(let t of g["@type"])0===t.indexOf("_:")&&o.addValue(e.bnodeMap,t,w,{propertyIsArray:!0});continue}if(!y.explicit||i in n)for(let t of g[i]){let r=i in n?n[i]:p(y);if(a.isList(t)){let r=n[i]&&n[i][0]&&n[i][0]["@list"]?n[i][0]["@list"]:p(y),l={"@list":[]};for(let n of(v(w,i,l),t["@list"]))a.isSubjectReference(n)?u.frame({...e,embedded:!0},[n["@id"]],r,l,"@list"):v(l,"@list",o.clone(n))}else a.isSubjectReference(t)?u.frame({...e,embedded:!0},[t["@id"]],r,w,i):m(r[0],t)&&v(w,i,o.clone(t))}}for(let e of Object.keys(n).sort()){if("@type"===e){if(!i.isObject(n[e][0])||!("@default"in n[e][0]))continue}else if(r(e))continue;let t=n[e][0]||{};if(!h(t,c,"omitDefault")&&!(e in w)){let n="@null";"@default"in t&&(n=o.clone(t["@default"])),i.isArray(n)||(n=[n]),w[e]=[{"@preserve":n}]}}for(let t of Object.keys(n["@reverse"]||{}).sort()){let r=n["@reverse"][t];for(let n of Object.keys(e.subjects))o.getValues(e.subjects[n],t).some(e=>e["@id"]===f)&&(w["@reverse"]=w["@reverse"]||{},o.addValue(w["@reverse"],t,[],{propertyIsArray:!0}),u.frame({...e,embedded:!0},[n],r,w["@reverse"][t],d))}v(l,d,w),e.subjectStack.pop()}}},u.cleanupNull=(e,t)=>{if(i.isArray(e))return e.map(e=>u.cleanupNull(e,t)).filter(e=>e);if("@null"===e)return null;if(i.isObject(e)){if("@id"in e){let n=e["@id"];if(t.link.hasOwnProperty(n)){let r=t.link[n].indexOf(e);if(-1!==r)return t.link[n][r];t.link[n].push(e)}else t.link[n]=[e]}for(let n in e)e[n]=u.cleanupNull(e[n],t)}return e}},1753,(e,t,n)=>{"use strict";let r=e.r(2534),{isArray:a,isObject:i,isString:o,isUndefined:l}=e.r(8119),{isList:s,isValue:d,isGraph:c,isSimpleGraph:u,isSubjectReference:p}=e.r(2285),{expandIri:h,getContextValue:f,isKeyword:g,process:v,processingMode:y}=e.r(8445),{removeBase:m,prependBase:x}=e.r(1854),{REGEX_KEYWORD:b,addValue:w,asArray:j,compareShortestLeast:I}=e.r(2925),N={};function S(e,t,n){if("@nest"!==h(e,t,{vocab:!0},n))throw new r("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}t.exports=N,N.compact=async e=>{let{activeCtx:t,activeProperty:n=null,element:h,options:m={}}=e;if(a(h)){let e=[];for(let r=0;r<h.length;++r){let a=await N.compact({activeCtx:t,activeProperty:n,element:h[r],options:m});null!==a&&e.push(a)}return m.compactArrays&&1===e.length&&0===(f(t,n,"@container")||[]).length&&(e=e[0]),e}let x=f(t,n,"@context");if(l(x)||(t=await v({activeCtx:t,localCtx:x,propagate:!0,overrideProtected:!0,options:m})),i(h)){if(m.link&&"@id"in h&&m.link.hasOwnProperty(h["@id"])){let e=m.link[h["@id"]];for(let t=0;t<e.length;++t)if(e[t].expanded===h)return e[t].compacted}if(d(h)||p(h)){let e=N.compactValue({activeCtx:t,activeProperty:n,value:h,options:m});return m.link&&p(h)&&(m.link.hasOwnProperty(h["@id"])||(m.link[h["@id"]]=[]),m.link[h["@id"]].push({expanded:h,compacted:e})),e}if(s(h)&&(f(t,n,"@container")||[]).includes("@list"))return N.compact({activeCtx:t,activeProperty:n,element:h["@list"],options:m});let e="@reverse"===n,x={},b=t;d(h)||p(h)||(t=t.revertToPreviousContext());let I=f(b,n,"@context");l(I)||(t=await v({activeCtx:t,localCtx:I,propagate:!0,overrideProtected:!0,options:m})),m.link&&"@id"in h&&(m.link.hasOwnProperty(h["@id"])||(m.link[h["@id"]]=[]),m.link[h["@id"]].push({expanded:h,compacted:x}));let k=h["@type"]||[];k.length>1&&(k=Array.from(k).sort());let O=t;for(let e of k){let n=f(b,N.compactIri({activeCtx:O,iri:e,relativeTo:{vocab:!0}}),"@context");l(n)||(t=await v({activeCtx:t,localCtx:n,options:m,propagate:!1}))}for(let l of Object.keys(h).sort()){let p=h[l];if("@id"===l){let e=j(p).map(e=>N.compactIri({activeCtx:t,iri:e,relativeTo:{vocab:!1},base:m.base}));1===e.length&&(e=e[0]),x[N.compactIri({activeCtx:t,iri:"@id",relativeTo:{vocab:!0}})]=e;continue}if("@type"===l){let e=j(p).map(e=>N.compactIri({activeCtx:b,iri:e,relativeTo:{vocab:!0}}));1===e.length&&(e=e[0]);let n=N.compactIri({activeCtx:t,iri:"@type",relativeTo:{vocab:!0}}),r=(f(t,n,"@container")||[]).includes("@set")&&y(t,1.1)||a(e)&&0===p.length;w(x,n,e,{propertyIsArray:r});continue}if("@reverse"===l){let e=await N.compact({activeCtx:t,activeProperty:"@reverse",element:p,options:m});for(let n in e)if(t.mappings.has(n)&&t.mappings.get(n).reverse){let r=e[n],a=(f(t,n,"@container")||[]).includes("@set")||!m.compactArrays;w(x,n,r,{propertyIsArray:a}),delete e[n]}Object.keys(e).length>0&&w(x,N.compactIri({activeCtx:t,iri:l,relativeTo:{vocab:!0}}),e);continue}if("@preserve"===l){let e=await N.compact({activeCtx:t,activeProperty:n,element:p,options:m});a(e)&&0===e.length||w(x,l,e);continue}if("@index"===l){if((f(t,n,"@container")||[]).includes("@index"))continue;w(x,N.compactIri({activeCtx:t,iri:l,relativeTo:{vocab:!0}}),p);continue}if("@graph"!==l&&"@list"!==l&&"@included"!==l&&g(l)){w(x,N.compactIri({activeCtx:t,iri:l,relativeTo:{vocab:!0}}),p);continue}if(!a(p))throw new r("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(0===p.length){let n=N.compactIri({activeCtx:t,iri:l,value:p,relativeTo:{vocab:!0},reverse:e}),r=t.mappings.has(n)?t.mappings.get(n)["@nest"]:null,a=x;r&&(S(t,r,m),i(x[r])||(x[r]={}),a=x[r]),w(a,n,p,{propertyIsArray:!0})}for(let n of p){let r,p=N.compactIri({activeCtx:t,iri:l,value:n,relativeTo:{vocab:!0},reverse:e}),h=t.mappings.has(p)?t.mappings.get(p)["@nest"]:null,g=x;h&&(S(t,h,m),i(x[h])||(x[h]={}),g=x[h]);let v=f(t,p,"@container")||[],y=c(n),b=s(n);b?r=n["@list"]:y&&(r=n["@graph"]);let I=await N.compact({activeCtx:t,activeProperty:p,element:b||y?r:n,options:m});if(b){if(a(I)||(I=[I]),v.includes("@list")){w(g,p,I,{valueIsArray:!0,allowDuplicate:!0});continue}I={[N.compactIri({activeCtx:t,iri:"@list",relativeTo:{vocab:!0}})]:I},"@index"in n&&(I[N.compactIri({activeCtx:t,iri:"@index",relativeTo:{vocab:!0}})]=n["@index"])}if(y)if(v.includes("@graph")&&(v.includes("@id")||v.includes("@index")&&u(n))){let e;g.hasOwnProperty(p)?e=g[p]:g[p]=e={},w(e,(v.includes("@id")?n["@id"]:n["@index"])||N.compactIri({activeCtx:t,iri:"@none",relativeTo:{vocab:!0}}),I,{propertyIsArray:!m.compactArrays||v.includes("@set")})}else v.includes("@graph")&&u(n)?a(I)&&I.length>1&&(I={"@included":I}):(a(I)&&1===I.length&&m.compactArrays&&(I=I[0]),I={[N.compactIri({activeCtx:t,iri:"@graph",relativeTo:{vocab:!0}})]:I},"@id"in n&&(I[N.compactIri({activeCtx:t,iri:"@id",relativeTo:{vocab:!0}})]=n["@id"]),"@index"in n&&(I[N.compactIri({activeCtx:t,iri:"@index",relativeTo:{vocab:!0}})]=n["@index"])),w(g,p,I,{propertyIsArray:!m.compactArrays||v.includes("@set")});else if(v.includes("@language")||v.includes("@index")||v.includes("@id")||v.includes("@type")){let e,r;if(g.hasOwnProperty(p)?e=g[p]:g[p]=e={},v.includes("@language"))d(I)&&(I=I["@value"]),r=n["@language"];else if(v.includes("@index")){let e=f(t,p,"@index")||"@index",a=N.compactIri({activeCtx:t,iri:e,relativeTo:{vocab:!0}});if("@index"===e)r=n["@index"],delete I[a];else{let t;if([r,...t]=j(I[e]||[]),o(r))switch(t.length){case 0:delete I[e];break;case 1:I[e]=t[0];break;default:I[e]=t}else r=null}}else if(v.includes("@id")){let e=N.compactIri({activeCtx:t,iri:"@id",relativeTo:{vocab:!0}});r=I[e],delete I[e]}else if(v.includes("@type")){let e,a=N.compactIri({activeCtx:t,iri:"@type",relativeTo:{vocab:!0}});switch([r,...e]=j(I[a]||[]),e.length){case 0:delete I[a];break;case 1:I[a]=e[0];break;default:I[a]=e}1===Object.keys(I).length&&"@id"in n&&(I=await N.compact({activeCtx:t,activeProperty:p,element:{"@id":n["@id"]},options:m}))}r||(r=N.compactIri({activeCtx:t,iri:"@none",relativeTo:{vocab:!0}})),w(e,r,I,{propertyIsArray:v.includes("@set")})}else{let e=!m.compactArrays||v.includes("@set")||v.includes("@list")||a(I)&&0===I.length||"@list"===l||"@graph"===l;w(g,p,I,{propertyIsArray:e})}}}return x}return h},N.compactIri=e=>{let{activeCtx:t,iri:n,value:a=null,relativeTo:o={vocab:!1},reverse:l=!1,base:u=null}=e;if(null===n)return n;t.isPropertyTermScoped&&t.previousContext&&(t=t.previousContext);let p=t.getInverse();if(g(n)&&n in p&&"@none"in p[n]&&"@type"in p[n]["@none"]&&"@none"in p[n]["@none"]["@type"])return p[n]["@none"]["@type"]["@none"];if(o.vocab&&n in p){let e=t["@language"]||"@none",r=[];i(a)&&"@index"in a&&!("@graph"in a)&&r.push("@index","@index@set"),i(a)&&"@preserve"in a&&(a=a["@preserve"][0]),c(a)?("@index"in a&&r.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in a&&r.push("@graph@id","@graph@id@set"),r.push("@graph","@graph@set","@set"),"@index"in a||r.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in a||r.push("@graph@id","@graph@id@set")):i(a)&&!d(a)&&r.push("@id","@id@set","@type","@set@type");let o="@language",u="@null";if(l)o="@type",u="@reverse",r.push("@set");else if(s(a)){"@index"in a||r.push("@list");let t=a["@list"];if(0===t.length)o="@any",u="@none";else{let n=0===t.length?e:null,r=null;for(let e=0;e<t.length;++e){let a=t[e],i="@none",o="@none";if(d(a))if("@direction"in a){let e=(a["@language"]||"").toLowerCase(),t=a["@direction"];i="".concat(e,"_").concat(t)}else"@language"in a?i=a["@language"].toLowerCase():"@type"in a?o=a["@type"]:i="@null";else o="@id";if(null===n?n=i:i!==n&&d(a)&&(n="@none"),null===r?r=o:o!==r&&(r="@none"),"@none"===n&&"@none"===r)break}n=n||"@none","@none"!==(r=r||"@none")?(o="@type",u=r):u=n}}else{if(d(a))if("@language"in a&&!("@index"in a)){r.push("@language","@language@set"),u=a["@language"];let e=a["@direction"];e&&(u="".concat(u,"_").concat(e))}else"@direction"in a&&!("@index"in a)?u="_".concat(a["@direction"]):"@type"in a&&(o="@type",u=a["@type"]);else o="@type",u="@id";r.push("@set")}r.push("@none"),!i(a)||"@index"in a||r.push("@index","@index@set"),d(a)&&1===Object.keys(a).length&&r.push("@language","@language@set");let p=function(e,t,n,r,a,o){null===o&&(o="@null");let l=[];if(("@id"===o||"@reverse"===o)&&i(n)&&"@id"in n){"@reverse"===o&&l.push("@reverse");let t=N.compactIri({activeCtx:e,iri:n["@id"],relativeTo:{vocab:!0}});e.mappings.has(t)&&e.mappings.get(t)&&e.mappings.get(t)["@id"]===n["@id"]?l.push.apply(l,["@vocab","@id"]):l.push.apply(l,["@id","@vocab"])}else{l.push(o);let e=l.find(e=>e.includes("_"));e&&l.push(e.replace(/^[^_]+_/,"_"))}l.push("@none");let s=e.inverse[t];for(let e of r){if(!(e in s))continue;let t=s[e][a];for(let e of l)if(e in t)return t[e]}return null}(t,n,a,r,o,u);if(null!==p)return p}if(o.vocab&&"@vocab"in t){let e=t["@vocab"];if(0===n.indexOf(e)&&n!==e){let r=n.substr(e.length);if(!t.mappings.has(r))return r}}let h=null,f=[],v=t.fastCurieMap,y=n.length-1;for(let e=0;e<y&&n[e]in v;++e)""in(v=v[n[e]])&&f.push(v[""][0]);for(let e=f.length-1;e>=0;--e){let r=f[e];for(let e of r.terms){let i=e+":"+n.substr(r.iri.length);t.mappings.get(e)._prefix&&(!t.mappings.has(i)||null===a&&t.mappings.get(i)["@id"]===n)&&(null===h||0>I(i,h))&&(h=i)}}if(null!==h)return h;for(let[e,a]of t.mappings)if(a&&a._prefix&&n.startsWith(e+":"))throw new r('Absolute IRI "'.concat(n,'" confused with prefix "').concat(e,'".'),"jsonld.SyntaxError",{code:"IRI confused with prefix",context:t});if(!o.vocab){if(!("@base"in t))return m(u,n);else if(t["@base"]){let e=m(x(u,t["@base"]),n);return b.test(e)?"./".concat(e):e}}return n},N.compactValue=e=>{let{activeCtx:t,activeProperty:n,value:r,options:a}=e;if(d(r)){let e=f(t,n,"@type"),a=f(t,n,"@language"),i=f(t,n,"@direction"),l=f(t,n,"@container")||[],s="@index"in r&&!l.includes("@index");if(!s&&"@none"!==e&&(r["@type"]===e||"@language"in r&&r["@language"]===a&&"@direction"in r&&r["@direction"]===i||"@language"in r&&r["@language"]===a||"@direction"in r&&r["@direction"]===i))return r["@value"];let d=Object.keys(r).length,c=1===d||2===d&&"@index"in r&&!s,u="@language"in t,p=o(r["@value"]),h=t.mappings.has(n)&&null===t.mappings.get(n)["@language"];if(c&&"@none"!==e&&(!u||!p||h))return r["@value"];let g={};return s&&(g[N.compactIri({activeCtx:t,iri:"@index",relativeTo:{vocab:!0}})]=r["@index"]),"@type"in r?g[N.compactIri({activeCtx:t,iri:"@type",relativeTo:{vocab:!0}})]=N.compactIri({activeCtx:t,iri:r["@type"],relativeTo:{vocab:!0}}):"@language"in r&&(g[N.compactIri({activeCtx:t,iri:"@language",relativeTo:{vocab:!0}})]=r["@language"]),"@direction"in r&&(g[N.compactIri({activeCtx:t,iri:"@direction",relativeTo:{vocab:!0}})]=r["@direction"]),g[N.compactIri({activeCtx:t,iri:"@value",relativeTo:{vocab:!0}})]=r["@value"],g}let i=h(t,n,{vocab:!0},a),l=f(t,n,"@type"),s=N.compactIri({activeCtx:t,iri:r["@id"],relativeTo:{vocab:"@vocab"===l},base:a.base});return"@id"===l||"@vocab"===l||"@graph"===i?s:{[N.compactIri({activeCtx:t,iri:"@id",relativeTo:{vocab:!0}})]:s}}},2827,(e,t,n)=>{"use strict";t.exports=e=>{class t{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(t,n){return arguments.length<2?Promise.reject(TypeError("Could not compact, too few arguments.")):e.compact(t,n)},t.expand=function(t){return arguments.length<1?Promise.reject(TypeError("Could not expand, too few arguments.")):e.expand(t)},t.flatten=function(t){return arguments.length<1?Promise.reject(TypeError("Could not flatten, too few arguments.")):e.flatten(t)},t}},7701,(e,t,n)=>{let r=e.r(9641),a=e.r(5872),i=e.r(2925),o=e.r(671),l=i.IdentifierIssuer,s=e.r(2534),d=e.r(2029),c=e.r(6260),{expand:u}=e.r(1654),{flatten:p}=e.r(6771),{fromRDF:h}=e.r(7120),{toRDF:f}=e.r(7065),{frameMergedOrDefault:g,cleanupNull:v}=e.r(6395),{isArray:y,isObject:m,isString:x}=e.r(8119),{isSubjectReference:b}=e.r(2285),{expandIri:w,getInitialContext:j,process:I,processingMode:N}=e.r(8445),{compact:S,compactIri:k}=e.r(1753),{createNodeMap:O,createMergedNodeMap:E,mergeNodeMaps:D}=e.r(6961),{logEventHandler:L,logWarningEventHandler:A,safeEventHandler:R,setDefaultEventHandler:T,setupEventHandler:C,strictEventHandler:_,unhandledEventHandler:M}=e.r(6877),J=function(t){let n={},J=new d({max:100});function P(e,n){let{documentLoader:r=t.documentLoader,...a}=n;if(e&&"compactionMap"in e)throw new s('"compactionMap" not supported.',"jsonld.OptionsError");if(e&&"expansionMap"in e)throw new s('"expansionMap" not supported.',"jsonld.OptionsError");return Object.assign({},{documentLoader:r},a,e,{eventHandler:C({options:e})})}return t.compact=async function(e,n,r){let a;if(arguments.length<2)throw TypeError("Could not compact, too few arguments.");if(null===n)throw new s("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(null===e)return null;(r=P(r,{base:x(e)?e:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new l("_:b"),contextResolver:new o({sharedCache:J})})).link&&(r.skipExpansion=!0),r.compactToRelative||delete r.base,a=r.skipExpansion?e:await t.expand(e,r);let d=await t.processContext(j(r),n,r),c=await S({activeCtx:d,element:a,options:r});r.compactArrays&&!r.graph&&y(c)?1===c.length?c=c[0]:0===c.length&&(c={}):r.graph&&m(c)&&(c=[c]),m(n)&&"@context"in n&&(n=n["@context"]),y(n=i.clone(n))||(n=[n]);let u=n;n=[];for(let e=0;e<u.length;++e)(!m(u[e])||Object.keys(u[e]).length>0)&&n.push(u[e]);let p=n.length>0;if(1===n.length&&(n=n[0]),y(c)){let e=k({activeCtx:d,iri:"@graph",relativeTo:{vocab:!0}}),t=c;c={},p&&(c["@context"]=n),c[e]=t}else if(m(c)&&p){let e=c;for(let t in c={"@context":n},e)c[t]=e[t]}return c},t.expand=async function(e,n){let r;if(arguments.length<1)throw TypeError("Could not expand, too few arguments.");n=P(n,{keepFreeFloatingNodes:!1,contextResolver:new o({sharedCache:J})});let a={},l=[];if("expandContext"in n){let e=i.clone(n.expandContext);m(e)&&"@context"in e?a.expandContext=e:a.expandContext={"@context":e},l.push(a.expandContext)}if(x(e)){let i=await t.get(e,n);r=i.documentUrl,a.input=i.document,i.contextUrl&&(a.remoteContext={"@context":i.contextUrl},l.push(a.remoteContext))}else a.input=i.clone(e);"base"in n||(n.base=r||"");let s=j(n);for(let e of l)s=await I({activeCtx:s,localCtx:e,options:n});let d=await u({activeCtx:s,element:a.input,options:n});return m(d)&&"@graph"in d&&1===Object.keys(d).length?d=d["@graph"]:null===d&&(d=[]),y(d)||(d=[d]),d},t.flatten=async function(e,n,r){if(arguments.length<1)return TypeError("Could not flatten, too few arguments.");n="function"==typeof n?null:n||null,r=P(r,{base:x(e)?e:"",contextResolver:new o({sharedCache:J})});let a=p(await t.expand(e,r));return null===n?a:(r.graph=!0,r.skipExpansion=!0,await t.compact(a,n,r))},t.frame=async function(e,n,r){if(arguments.length<2)throw TypeError("Could not frame, too few arguments.");if(r=P(r,{base:x(e)?e:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new o({sharedCache:J})}),x(n)){let e=await t.get(n,r);if(n=e.document,e.contextUrl){let t=n["@context"];t?y(t)?t.push(e.contextUrl):t=[t,e.contextUrl]:t=e.contextUrl,n["@context"]=t}}let a=n&&n["@context"]||{},i=await t.processContext(j(r),a,r);r.hasOwnProperty("omitGraph")||(r.omitGraph=N(i,1.1)),r.hasOwnProperty("pruneBlankNodeIdentifiers")||(r.pruneBlankNodeIdentifiers=N(i,1.1));let l=await t.expand(e,r),s={...r};s.isFrame=!0,s.keepFreeFloatingNodes=!0;let d=await t.expand(n,s);s.merged=!Object.keys(n).map(e=>w(i,e,{vocab:!0})).includes("@graph"),s.is11=N(i,1.1);let c=g(l,d,s);s.graph=!r.omitGraph,s.skipExpansion=!0,s.link={},s.framing=!0;let u=await t.compact(c,a,s);return s.link={},u=v(u,s)},t.link=async function(e,n,r){let a={};return n&&(a["@context"]=n),a["@embed"]="@link",t.frame(e,a,r)},t.normalize=t.canonize=async function(e,n){if(arguments.length<1)throw TypeError("Could not canonize, too few arguments.");if("inputFormat"in(n=P(n,{base:x(e)?e:null,algorithm:"URDNA2015",skipExpansion:!1,safe:!0,contextResolver:new o({sharedCache:J})}))){if("application/n-quads"!==n.inputFormat&&"application/nquads"!==n.inputFormat)throw new s("Unknown canonicalization input format.","jsonld.CanonizeError");let t=c.parse(e);return r.canonize(t,n)}let a={...n};delete a.format,a.produceGeneralizedRdf=!1;let i=await t.toRDF(e,a);return r.canonize(i,n)},t.fromRDF=async function(e,t){if(arguments.length<1)throw TypeError("Could not convert from RDF, too few arguments.");let{format:r}=t=P(t,{format:x(e)?"application/n-quads":void 0}),{rdfParser:a}=t;if(r){if(!(a=a||n[r]))throw new s("Unknown input format.","jsonld.UnknownFormat",{format:r})}else a=()=>e;return h(await a(e),t)},t.toRDF=async function(e,n){if(arguments.length<1)throw TypeError("Could not convert to RDF, too few arguments.");let r=f((n=P(n,{base:x(e)?e:"",skipExpansion:!1,contextResolver:new o({sharedCache:J})})).skipExpansion?e:await t.expand(e,n),n);if(n.format){if("application/n-quads"===n.format||"application/nquads"===n.format)return c.serialize(r);throw new s("Unknown output format.","jsonld.UnknownFormat",{format:n.format})}return r},t.createNodeMap=async function(e,n){if(arguments.length<1)throw TypeError("Could not create node map, too few arguments.");return n=P(n,{base:x(e)?e:"",contextResolver:new o({sharedCache:J})}),E(await t.expand(e,n),n)},t.merge=async function(e,n,r){if(arguments.length<1)throw TypeError("Could not merge, too few arguments.");if(!y(e))throw TypeError('Could not merge, "docs" must be an array.');n="function"==typeof n?null:n||null,r=P(r,{contextResolver:new o({sharedCache:J})});let a=await Promise.all(e.map(e=>{let n={...r};return t.expand(e,n)})),s=!0;"mergeNodes"in r&&(s=r.mergeNodes);let d=r.issuer||new l("_:b"),c={"@default":{}};for(let e=0;e<a.length;++e){let t=i.relabelBlankNodes(a[e],{issuer:new l("_:b"+e+"-")}),n=s||0===e?c:{"@default":{}};if(O(t,n,"@default",d),n!==c)for(let e in n){let t=n[e];if(!(e in c)){c[e]=t;continue}let r=c[e];for(let e in t)e in r||(r[e]=t[e])}}let u=D(c),p=[],h=Object.keys(u).sort();for(let e=0;e<h.length;++e){let t=u[h[e]];b(t)||p.push(t)}return null===n?p:(r.graph=!0,r.skipExpansion=!0,await t.compact(p,n,r))},Object.defineProperty(t,"documentLoader",{get:()=>t._documentLoader,set:e=>t._documentLoader=e}),t.documentLoader=async e=>{throw new s("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:e})},t.get=async function(e,n){let r;r="function"==typeof n.documentLoader?n.documentLoader:t.documentLoader;let a=await r(e);try{if(!a.document)throw new s("No remote document found at the given URL.","jsonld.NullRemoteDocument");x(a.document)&&(a.document=JSON.parse(a.document))}catch(e){throw new s("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:e,remoteDoc:a})}return a},t.processContext=async function(e,t,n){return(n=P(n,{base:"",contextResolver:new o({sharedCache:J})}),null===t)?j(n):(m(t=i.clone(t))&&"@context"in t||(t={"@context":t}),I({activeCtx:e,localCtx:t,options:n}))},t.getContextValue=e.r(8445).getContextValue,t.documentLoaders={},t.useDocumentLoader=function(e){if(!(e in t.documentLoaders))throw new s('Unknown document loader type: "'+e+'"',"jsonld.UnknownDocumentLoader",{type:e});t.documentLoader=t.documentLoaders[e].apply(t,Array.prototype.slice.call(arguments,1))},t.registerRDFParser=function(e,t){n[e]=t},t.unregisterRDFParser=function(e){delete n[e]},t.registerRDFParser("application/n-quads",c.parse),t.registerRDFParser("application/nquads",c.parse),t.url=e.r(1854),t.logEventHandler=L,t.logWarningEventHandler=A,t.safeEventHandler=R,t.setDefaultEventHandler=T,t.strictEventHandler=_,t.unhandledEventHandler=M,t.util=i,Object.assign(t,i),t.promises=t,t.RequestQueue=e.r(8720),t.JsonLdProcessor=e.r(2827)(t),a.setupGlobals(t),a.setupDocumentLoaders(t),t},P=function(){return J(function(){return P()})};J(P),t.exports=P},6120,e=>{"use strict";e.s(["default",()=>d],6120);var t=e.i(1398),n=e.i(1788),r=e.i(7701);let a=async e=>{let t=(await r.default.flatten(e)).find(e=>e["@type"]&&e["@type"].includes("https://schema.org/Person"));return await r.default.compact(t,{firstName:"http://xmlns.com/foaf/0.1/firstName",familyName:"http://xmlns.com/foaf/0.1/familyName",image:{"@id":"http://xmlns.com/foaf/0.1/img","@type":"@id"},birthday:"http://xmlns.com/foaf/0.1/birthday",address:"https://schema.org/address",telephone:"https://schema.org/telephone",email:"https://schema.org/email"})},i=async e=>{let t=(await r.default.flatten(e)).filter(e=>{var t;return null==(t=e["@type"])?void 0:t.includes("http://rdfs.org/resume-rdf/#term_Education")}),n=await r.default.compact({"@graph":t},{"@context":{name:"https://schema.org/name",description:{"@id":"http://rdfs.org/resume-rdf/#term_eduDescription","@container":"@set"},link:"@id"}});return Array.isArray(n)?n:[n]},o=async e=>{let t=(await r.default.flatten(e)).filter(e=>{var t;return null==(t=e["@type"])?void 0:t.includes("http://rdfs.org/resume-rdf/#term_Skill")});return(await r.default.compact({"@graph":t},{name:"https://schema.org/name",image:{"@id":"https://schema.org/image","@type":"@id"},link:"@id"}))["@graph"]},l=async e=>{let t=(await r.default.flatten(e)).filter(e=>{var t;return null==(t=e["@type"])?void 0:t.includes("http://rdfs.org/resume-rdf/#term_WorkHistory")}),n=await r.default.compact({"@graph":t},{"@context":{name:"https://schema.org/name",description:{"@id":"http://rdfs.org/resume-rdf/#term_jobDescription","@container":"@set"},link:"@id"}});return Array.isArray(n)?n:[n]},s=async e=>{let t=await r.default.flatten(e),n=(await r.default.compact({"@graph":t},{"@context":{name:"https://schema.org/name",description:{"@id":"https://schema.org/abstract","@container":"@set"},publications:{"@id":"https://schema.org/workFeatured","@container":"@set"},link:"@id"}}))["@graph"].filter(e=>{var t;return null==(t=e["@type"])?void 0:t.includes("https://schema.org/Project")});console.log(n);let a=await r.default.compact({"@graph":t},{"@context":{name:"https://schema.org/name",link:{"@id":"https://schema.org/url","@type":"@id"}}});return n.forEach(e=>{var t;e.publications=null==(t=e.publications)?void 0:t.map(e=>a["@graph"].find(t=>t["@id"]===e.link))}),n};function d(){let[e,r]=(0,n.useState)(null),[d,c]=(0,n.useState)(null),[u,p]=(0,n.useState)([]),[h,f]=(0,n.useState)([]),[g,v]=(0,n.useState)([]),[y,m]=(0,n.useState)([]),[x,b]=(0,n.useState)("");(0,n.useEffect)(()=>{(async()=>{fetch("/cv.jsonld").then(e=>e.json()).then(e=>{r(e)})})()},[]),(0,n.useEffect)(()=>{e&&(a(e).then(e=>c(e)),i(e).then(e=>p(e)),o(e).then(e=>v(e)),l(e).then(e=>m(e)),s(e).then(e=>f(e)))},[e]),(0,n.useEffect)(()=>{let e=document.getElementById("projectWindow");e&&(e.childElementCount>1?(e.children[h.length].scrollIntoView({behavior:"instant"}),e.addEventListener("scrollend",()=>{let t=Math.round(e.scrollLeft/e.clientWidth);t<h.length?e.children[t+h.length].scrollIntoView({behavior:"instant"}):t>2*h.length&&e.children[t-h.length].scrollIntoView({behavior:"instant"}),b(t%h.length+1+"/"+h.length)})):document.getElementById("projectsSlider").style.display="none")},[h]);let w=e=>{let t=document.getElementById("projectWindow");if(t){let n=Math.round(t.scrollLeft/t.clientWidth);n<h.length&&(n+=h.length,t.children[n].scrollIntoView({behavior:"instant"})),n>2*h.length&&(n-=h.length,t.children[n].scrollIntoView({behavior:"instant"})),t.children[n+e].scrollIntoView({behavior:"smooth"}),b(n%h.length+1+"/"+h.length)}};return(0,n.useEffect)(()=>{let e=document.getElementById("pagination");e&&(e.classList.toggle("active",!0),setTimeout(()=>{e.classList.toggle("active",!1)},2e3))},[x]),e&&d&&(0,t.jsxs)("main",{prefix:" foaf: http://xmlns.com/foaf/0.1/ schema: https://schema.org/ cv: http://rdfs.org/resume-rdf/#term_ ",typeOf:"cv:CV",about:d["@id"],children:[(0,t.jsxs)("section",{typeOf:"foaf:Person schema:Person",children:[(0,t.jsx)("div",{className:"profileImage",children:(0,t.jsx)("img",{src:d.image,alt:"Profile image",onError:e=>{e.target.src="/profileImage.png",e.target.onerror=null},property:"foaf:img"})}),(0,t.jsxs)("div",{style:{padding:"10px"},children:[(0,t.jsxs)("h2",{children:[(0,t.jsx)("span",{property:"foaf:firstName",style:{fontSize:"1.5em"},children:d.firstName})," ",(0,t.jsx)("span",{property:"foaf:familyName",style:{color:"#3a8def",fontSize:"2em"},children:d.familyName})]}),(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,t.jsx)("h4",{children:(0,t.jsxs)("span",{property:"foaf:birthday",children:[(0,t.jsx)("i",{className:"fa-solid fa-calendar"}),d.birthday]})}),(0,t.jsxs)("h4",{children:[(0,t.jsx)("i",{className:"fa-solid fa-location-dot"}),(0,t.jsx)("span",{property:"schema:address",children:d.address})]}),(0,t.jsx)("h4",{children:(0,t.jsxs)("a",{href:"tel:"+d.telephone,children:[(0,t.jsx)("i",{className:"fa-solid fa-phone"}),(0,t.jsx)("span",{property:"schema:telephone",children:d.telephone})]})}),(0,t.jsx)("h4",{children:(0,t.jsxs)("a",{href:"mailto:"+d.email,children:[(0,t.jsx)("i",{className:"fa-solid fa-envelope"}),(0,t.jsx)("span",{property:"schema:email",children:d.email})]})})]})]})]}),(0,t.jsxs)("section",{children:[(0,t.jsx)("h3",{children:"Vzdělání"}),u.map(e=>(0,t.jsxs)("div",{typeOf:"cv:Education",style:{paddingLeft:"8px",paddingRight:"8px"},children:[(0,t.jsx)("h4",{property:"schema:name",children:(0,t.jsx)("a",{href:e.link,children:e.name})}),e.description&&(0,t.jsx)("ul",{children:e.description.map((n,r)=>(0,t.jsx)("li",{property:"cv:eduDescription",children:n},e["@id"]+r))})]},e["@id"]))]}),(0,t.jsxs)("section",{children:[(0,t.jsx)("h3",{children:"Můj stack"}),(0,t.jsx)("div",{style:{display:"flex",alignItems:"center",flexDirection:"row",flexWrap:"wrap",gap:"10px"},children:g.map(e=>(0,t.jsx)("div",{typeOf:"cv:Skill",children:(0,t.jsxs)("a",{href:e.link,children:[(0,t.jsx)("img",{src:e.image,alt:"",height:"32",width:"32",className:"skill"}),(0,t.jsx)("span",{property:"schema:name",children:" "+e.name})]})},e["@id"]))})]}),(0,t.jsxs)("section",{children:[(0,t.jsx)("h3",{children:"Projekty"}),(0,t.jsxs)("div",{id:"projectsContainer",children:[(0,t.jsx)("button",{id:"left",onClick:()=>w(-1),children:"<"}),(0,t.jsx)("div",{id:"projectWindow",children:[...h,...h,...h].map((e,n)=>{var r,a;return(0,t.jsxs)("div",{typeOf:"schema:Project",id:"project"+n,className:n>=h.length&&"hidden",children:[(0,t.jsxs)("h4",{property:"schema:name",children:[e.link.match("github")&&(0,t.jsx)("img",{src:"/github-mark.svg",alt:""}),e.link.match("gitlab")&&(0,t.jsx)("img",{src:"/gitlab-logo.svg",alt:""}),(0,t.jsx)("a",{href:e.link,children:e.name})]}),(0,t.jsx)("div",{children:(0,t.jsxs)("ul",{children:[null==(r=e.description)?void 0:r.map((n,r)=>(0,t.jsx)("li",{property:"schema:description",children:n},e["@id"]+"des"+r)),null==(a=e.publications)?void 0:a.map((n,r)=>(0,t.jsx)("li",{property:"schema:workFeatured",children:(0,t.jsx)("h4",{style:{display:"inline"},children:(0,t.jsx)("a",{href:null==n?void 0:n.link,children:null==n?void 0:n.name})})},e["@id"]+"wrk"+r))]})})]},e["@id"]+n)})}),(0,t.jsx)("button",{id:"right",onClick:()=>w(1),children:">"}),(0,t.jsx)("span",{id:"pagination",children:x})]})]}),(0,t.jsxs)("section",{children:[(0,t.jsx)("h3",{children:"Pracovní zkušenosti"}),y.map(e=>(0,t.jsxs)("div",{typeOf:"cv:WorkHistory",style:{paddingLeft:"8px",paddingRight:"8px"},children:[(0,t.jsx)("h4",{property:"cv:jobDescription",children:(0,t.jsx)("a",{href:e.link,children:e.name})}),e.description&&(0,t.jsx)("ul",{children:(0,t.jsx)("li",{property:"cv:eduDescription",children:e.description})})]},e["@id"]))]})]})}},2482,(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",()=>e.r(6120)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push(["/"])})}]);